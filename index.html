<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://unpkg.com https://storage.ko-fi.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' https://api.webspind.com https://ko-fi.com; frame-src https://ko-fi.com; object-src 'none'; base-uri 'self'; form-action 'self';">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
  <title>Webspind - Free Professional PDF Tools, OCR, Image Converter, QR Generator & AI Detector | 100% Private</title>
  <meta name="description" content="Free professional tools: PDF merge, split, rotate, OCR, image converter, QR generator, text toolkit, and AI detector. 100% secure, private, browser-based processing. No uploads required. Used by 50,000+ users monthly.">
  <meta name="keywords" content="free PDF tools, PDF merge, PDF split, PDF rotate, PDF OCR, make PDF readable, make PDF copyable, image converter, QR generator, text tools, AI detector, document processing, online PDF editor, image format converter, QR code generator, AI content detector, text processing, professional tools, browser-based tools, secure PDF tools, private document processing, offline PDF tools, no registration required, instant PDF processing">
  <meta name="author" content="Webspind">
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta name="googlebot" content="index, follow">
  <meta name="bingbot" content="index, follow">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://webspind.com/">
  
  <!-- Performance optimizations -->
  <link rel="preconnect" href="https://cdn.tailwindcss.com">
  <link rel="preconnect" href="https://unpkg.com">
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="dns-prefetch" href="https://storage.ko-fi.com">
  <link rel="dns-prefetch" href="https://api.webspind.com">
  <link rel="dns-prefetch" href="https://fonts.googleapis.com">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">
  
  <!-- Language and locale -->
  <meta name="language" content="en">
  <meta name="geo.region" content="Global">
  <meta name="geo.placename" content="Worldwide">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://webspind.com/">
  <meta property="og:title" content="Webspind - Professional PDF Tools, OCR, Image Converter, QR Generator & AI Detector">
  <meta property="og:description" content="Free professional tools: PDF merge, split, rotate, OCR, image converter, QR generator, text toolkit, and AI detector. Secure, private, browser-based document processing.">
  <meta property="og:image" content="https://webspind.com/og-image.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="Webspind Professional Tools - Free PDF, Image, and Text Processing Tools">
  <meta property="og:site_name" content="Webspind">
  <meta property="og:locale" content="en_US">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://webspind.com/">
  <meta name="twitter:title" content="Webspind - Professional PDF Tools, OCR, Image Converter, QR Generator & AI Detector">
  <meta name="twitter:description" content="Free professional tools: PDF merge, split, rotate, OCR, image converter, QR generator, text toolkit, and AI detector. Secure, private, browser-based document processing.">
  <meta name="twitter:image" content="https://webspind.com/og-image.jpg">
  <meta name="twitter:image:alt" content="Webspind Professional Tools - Free PDF, Image, and Text Processing Tools">
  <meta name="twitter:creator" content="@webspind">
  <meta name="twitter:site" content="@webspind">

  <!-- Favicon and PWA Icons -->
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="preload" as="image" href="/assets/webspind-logo.svg">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#1a1a1a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Webspind">
  
  <!-- Additional SEO and Performance Meta Tags -->
  <meta name="format-detection" content="telephone=no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="Webspind">
  <meta name="msapplication-TileColor" content="#1a1a1a">
  <meta name="msapplication-config" content="/browserconfig.xml">
  
  <!-- Critical CSS for above-the-fold content -->
  <style>
    /* Critical CSS for immediate rendering */
    body { margin: 0; font-family: Inter, system-ui, -apple-system, sans-serif; }
    .gradient-bg { background: linear-gradient(135deg, #ffffff 0%, #f8fafc 50%, #ffffff 100%); }
    .glass { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(20px); }
    .card { background: #ffffff; border: 2px solid #e5e7eb; border-radius: 16px; }
    .btn-primary { background: #1a1a1a; color: #ffffff; padding: 8px 16px; border-radius: 6px; }
    .fade-in { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
    .fade-in.visible { opacity: 1; transform: translateY(0); }
  </style>
  
  <!-- Advanced Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Webspind",
    "alternateName": "Webspind Professional Tools",
    "description": "Free professional tools: PDF merge, split, rotate, image converter, QR generator, text toolkit, and AI detector. 100% secure, private, browser-based processing. No uploads required.",
    "url": "https://webspind.com/",
    "applicationCategory": ["UtilityApplication", "ProductivityApplication", "BusinessApplication"],
    "operatingSystem": "Web Browser",
    "browserRequirements": "Requires JavaScript. Requires HTML5.",
    "softwareVersion": "2.0",
    "datePublished": "2024-01-01",
    "dateModified": "2025-01-15",
    "inLanguage": "en",
    "isAccessibleForFree": true,
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD",
      "availability": "https://schema.org/InStock"
    },
    "creator": {
      "@type": "Organization",
      "name": "Webspind",
      "url": "https://webspind.com",
      "logo": "https://webspind.com/logo.png"
    },
    "featureList": [
      "PDF merge and split tools",
      "Image format conversion",
      "QR code generation",
      "Text processing toolkit",
      "AI content detection",
      "Password generator",
      "100% browser-based processing",
      "No file uploads required",
      "Complete privacy protection",
      "Offline functionality",
      "No registration required"
    ],
    "screenshot": "https://webspind.com/og-image.jpg",
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "1250",
      "bestRating": "5",
      "worstRating": "1"
    },
    "review": [
      {
        "@type": "Review",
        "author": {
          "@type": "Person",
          "name": "Sarah M."
        },
        "reviewRating": {
          "@type": "Rating",
          "ratingValue": "5",
          "bestRating": "5"
        },
        "reviewBody": "Finally, PDF tools that actually work and respect my privacy!"
      }
    ],
    "potentialAction": [
      {
        "@type": "UseAction",
        "target": "https://webspind.com/tools/pdf-merge/",
        "name": "Merge PDF Files"
      },
      {
        "@type": "UseAction", 
        "target": "https://webspind.com/tools/qr-generator/",
        "name": "Generate QR Codes"
      },
      {
        "@type": "UseAction",
        "target": "https://webspind.com/tools/pdf-ocr/",
        "name": "Extract Text from PDF"
      },
      {
        "@type": "UseAction",
        "target": "https://webspind.com/tools/ai-detector/",
        "name": "Detect AI-Generated Content"
      }
    ],
    "mainEntity": {
      "@type": "ItemList",
      "name": "Professional Tools",
      "itemListElement": [
        {
          "@type": "SoftwareApplication",
          "name": "PDF Merge",
          "url": "https://webspind.com/tools/pdf-merge/",
          "description": "Combine multiple PDF documents into a single file"
        },
        {
          "@type": "SoftwareApplication", 
          "name": "PDF Split",
          "url": "https://webspind.com/tools/pdf-split/",
          "description": "Extract specific pages or page ranges from PDF documents"
        },
        {
          "@type": "SoftwareApplication",
          "name": "AI Detector",
          "url": "https://webspind.com/tools/ai-detector/",
          "description": "Detect AI-generated content using linguistic analysis"
        }
      ]
    }
  }
  </script>
  
  <!-- Additional Structured Data for Tools -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ItemList",
    "name": "Webspind Professional Tools",
    "description": "Collection of free professional tools for PDF processing, image conversion, text processing, and more",
    "url": "https://webspind.com/",
    "numberOfItems": 11,
    "itemListElement": [
      {
        "@type": "SoftwareApplication",
        "position": 1,
        "name": "PDF Merge",
        "url": "https://webspind.com/tools/pdf-merge/",
        "description": "Combine multiple PDF documents into a single file",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Web Browser"
      },
      {
        "@type": "SoftwareApplication",
        "position": 2,
        "name": "PDF Split",
        "url": "https://webspind.com/tools/pdf-split/",
        "description": "Extract specific pages or page ranges from PDF documents",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Web Browser"
      },
      {
        "@type": "SoftwareApplication",
        "position": 3,
        "name": "PDF OCR",
        "url": "https://webspind.com/tools/pdf-ocr/",
        "description": "Extract text from scanned PDF documents using OCR technology",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Web Browser"
      },
      {
        "@type": "SoftwareApplication",
        "position": 4,
        "name": "Image Converter",
        "url": "https://webspind.com/tools/image-converter/",
        "description": "Convert images between different formats (JPG, PNG, WebP, etc.)",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Web Browser"
      },
      {
        "@type": "SoftwareApplication",
        "position": 5,
        "name": "QR Generator",
        "url": "https://webspind.com/tools/qr-generator/",
        "description": "Generate QR codes for URLs, text, and other data",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Web Browser"
      },
      {
        "@type": "SoftwareApplication",
        "position": 6,
        "name": "AI Detector",
        "url": "https://webspind.com/tools/ai-detector/",
        "description": "Detect AI-generated content using linguistic analysis",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Web Browser"
      }
    ]
  }
  </script>
  
  <!-- Preload critical resources -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"></noscript>
  
  <!-- Preload critical images -->
  <link rel="preload" as="image" href="/assets/webspind-logo.svg">
  <link rel="preload" as="image" href="/og-image.jpg">
  
  <!-- Resource hints for better performance -->
  <link rel="prefetch" href="/tools/pdf-merge/">
  <link rel="prefetch" href="/tools/qr-generator/">
  <link rel="prefetch" href="/tools/image-converter/">
  
  <!-- DNS prefetch for external resources -->
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//fonts.gstatic.com">
  <link rel="dns-prefetch" href="//storage.ko-fi.com">
  <link rel="dns-prefetch" href="//ko-fi.com">
  <link rel="dns-prefetch" href="//unpkg.com">
  
  <!-- Preconnect to critical domains -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  
  <script src="https://cdn.tailwindcss.com" defer></script>
  <script src="/js/freemium.js" defer></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'sans': ['Inter', 'system-ui', 'sans-serif'],
          },
          animation: {
            'fade-in': 'fadeIn 0.8s ease-out',
            'slide-up': 'slideUp 1s ease-out',
            'float': 'float 6s ease-in-out infinite',
            'pulse-glow': 'pulseGlow 2s ease-in-out infinite',
            'web-spin': 'webSpin 1s linear infinite',
            'bounce-subtle': 'bounceSubtle 2s ease-in-out infinite',
            'scale-in': 'scaleIn 0.6s ease-out',
            'slide-in-left': 'slideInLeft 0.8s ease-out',
            'slide-in-right': 'slideInRight 0.8s ease-out',
            'wiggle': 'wiggle 1s ease-in-out infinite',
            'gradient-shift': 'gradientShift 8s ease infinite',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0', transform: 'translateY(30px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' }
            },
            slideUp: {
              '0%': { opacity: '0', transform: 'translateY(50px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' }
            },
            float: {
              '0%, 100%': { transform: 'translateY(0px)' },
              '50%': { transform: 'translateY(-15px)' }
            },
            pulseGlow: {
              '0%, 100%': { boxShadow: '0 0 20px rgba(59, 130, 246, 0.3)' },
              '50%': { boxShadow: '0 0 30px rgba(59, 130, 246, 0.6)' }
            },
            webSpin: {
              '0%': { transform: 'rotate(0deg)' },
              '100%': { transform: 'rotate(360deg)' }
            },
            bounceSubtle: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-10px)' }
            },
            scaleIn: {
              '0%': { opacity: '0', transform: 'scale(0.8)' },
              '100%': { opacity: '1', transform: 'scale(1)' }
            },
            slideInLeft: {
              '0%': { opacity: '0', transform: 'translateX(-50px)' },
              '100%': { opacity: '1', transform: 'translateX(0)' }
            },
            slideInRight: {
              '0%': { opacity: '0', transform: 'translateX(50px)' },
              '100%': { opacity: '1', transform: 'translateX(0)' }
            },
            wiggle: {
              '0%, 100%': { transform: 'rotate(-3deg)' },
              '50%': { transform: 'rotate(3deg)' }
            },
            gradientShift: {
              '0%, 100%': { backgroundPosition: '0% 50%' },
              '50%': { backgroundPosition: '100% 50%' }
            }
          }
        }
      }
    }
  </script>
  
  <style>
    /* Critical CSS - inline for faster loading */
    * {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
    }
    
    body {
      background: #ffffff;
      color: #1a1a1a;
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #ffffff 0%, #f8fafc 50%, #ffffff 100%);
      position: relative;
    }
    
    .gradient-bg::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(16, 185, 129, 0.05) 0%, transparent 50%);
    }
    
    .glass {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(0, 0, 0, 0.1);
    }
    
    .card {
      background: #ffffff;
      border: 2px solid #e5e7eb;
      border-radius: 16px;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }
    
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
      transition: left 0.6s;
    }
    
    .card:hover::before {
      left: 100%;
    }
    
    .card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      border-color: #3b82f6;
    }
    
    .btn-primary {
      background: #1a1a1a;
      border: 1px solid #1a1a1a;
      color: #ffffff;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 6px;
      transition: all 0.2s ease;
      box-shadow: 0 1px 3px rgba(26, 26, 26, 0.1);
      position: relative;
      overflow: hidden;
      font-size: 14px;
    }
    
    .btn-primary::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transition: left 0.5s;
    }
    
    .btn-primary:hover::before {
      left: 100%;
    }
    
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(26, 26, 26, 0.2);
      background: #3b82f6;
      border-color: #3b82f6;
    }
    
    .btn-secondary {
      background: #ffffff;
      border: 1px solid #e5e7eb;
      color: #1f2937;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 6px;
      transition: all 0.2s ease;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
      position: relative;
      overflow: hidden;
      font-size: 14px;
    }
    
    .btn-secondary:hover {
      transform: translateY(-1px);
      background: #f9fafb;
      border-color: #d1d5db;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
    }
    
    .btn-donate {
      background: #ef4444;
      border: 1px solid #ef4444;
      color: #ffffff;
      font-weight: 600;
      padding: 10px 20px;
      border-radius: 6px;
      transition: all 0.2s ease;
      box-shadow: 0 1px 3px rgba(239, 68, 68, 0.2);
      position: relative;
      overflow: hidden;
      font-size: 14px;
    }
    
    .btn-donate::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transition: left 0.5s;
    }
    
    .btn-donate:hover::before {
      left: 100%;
    }
    
    .btn-donate:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
      background: #dc2626;
      border-color: #dc2626;
    }
    
    .hero-text {
      background: linear-gradient(135deg, #1a1a1a, #3b82f6, #10b981);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .floating-icon {
      animation: float 6s ease-in-out infinite;
    }
    
    .stats-card {
      background: #ffffff;
      border: 2px solid #e5e7eb;
      border-radius: 16px;
      padding: 24px;
      text-align: center;
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }
    
    .stats-card:hover {
      transform: translateY(-4px);
      border-color: #3b82f6;
      box-shadow: 0 10px 25px -3px rgba(59, 130, 246, 0.1);
    }
    
    .feature-badge {
      background: #1a1a1a;
      color: #ffffff;
      padding: 6px 12px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 600;
      display: inline-block;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .webspind-logo {
      position: relative;
    }
    
    .webspind-logo::after {
      content: '🕸️';
      position: absolute;
      top: -5px;
      right: -25px;
      font-size: 16px;
      animation: float 3s ease-in-out infinite;
    }
    
    .web-spinner {
      width: 40px;
      height: 40px;
      border: 3px solid rgba(59, 130, 246, 0.3);
      border-top: 3px solid #3b82f6;
      border-radius: 50%;
      animation: webSpin 1s linear infinite;
    }
    
    .nav-shadow {
      box-shadow: 0 12px 30px -12px rgba(0, 0, 0, 0.2);
    }
    
    .nav-condensed {
      padding-top: 8px !important;
      padding-bottom: 8px !important;
    }
    
    /* Brand shrink on desktop scroll */
    .brand,
    .brand-text {
      transition: transform 0.2s ease, font-size 0.2s ease, letter-spacing 0.2s ease;
      transform-origin: left center;
    }
    .brand-logo {
      transition: transform 0.2s ease;
      transform-origin: left center;
    }
    .brand-condensed .brand {
      transform: scale(0.98);
    }
    .brand-condensed .brand-text {
      transform: scale(0.98);
    }
    .brand-condensed .brand-logo {
      transform: scale(0.9);
    }
    
    /* Hero shrink on desktop */
    .hero,
    .hero-inner,
    .hero-title,
    .hero-sub,
    .hero-actions {
      transition: transform 0.25s ease, margin 0.25s ease, padding 0.25s ease, opacity 0.25s ease;
      transform-origin: top left;
    }
    .hero-condensed .hero-inner {
      margin-top: -8px;
    }
    .hero-condensed .hero-title {
      transform: scale(0.96);
    }
    .hero-condensed .hero-sub {
      transform: scale(0.98);
      opacity: 0.96;
    }
    .hero-condensed .hero-actions {
      transform: scale(0.98);
    }
    
    /* Improved contrast for better accessibility - WCAG AA compliant */
    .text-gray-600 {
      color: #374151 !important; /* Improved from #6b7280 for better contrast (4.5:1 ratio) */
    }
    
    .text-gray-500 {
      color: #4b5563 !important; /* Improved from #9ca3af for better contrast (4.5:1 ratio) */
    }
    
    .text-gray-400 {
      color: #6b7280 !important; /* Improved for better contrast */
    }
    
    /* High contrast mode support */
    @media (prefers-contrast: high) {
      .text-gray-600 {
        color: #1f2937 !important;
      }
      .text-gray-500 {
        color: #374151 !important;
      }
      .card {
        border-color: #1f2937 !important;
      }
    }
    
    /* Enhanced focus states for keyboard navigation */
    .btn-primary:focus,
    .btn-secondary:focus,
    .btn-donate:focus,
    .category-btn:focus,
    .nav-link:focus,
    button:focus,
    a:focus {
      outline: 2px solid #3b82f6;
      outline-offset: 2px;
      box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
    }
    
    /* Skip to content link for screen readers */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 6px;
      background: #1a1a1a;
      color: white;
      padding: 8px;
      text-decoration: none;
      border-radius: 4px;
      z-index: 1000;
    }
    
    .skip-link:focus {
      top: 6px;
    }
    
    /* Ensure minimum font sizes for readability */
    body {
      font-size: 16px;
      line-height: 1.6;
    }
    
    @media (max-width: 768px) {
      body {
        font-size: 18px; /* Larger on mobile for better readability */
      }
    }
    
    /* Better visual hierarchy with improved spacing */
    .tool-card {
      transition: all 0.2s ease;
    }
    
    .tool-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    
    /* Tooltip styles */
    .tooltip {
      position: relative;
      display: inline-block;
    }
    
    .tooltip .tooltiptext {
      visibility: hidden;
      width: 200px;
      background-color: #1f2937;
      color: #fff;
      text-align: center;
      border-radius: 8px;
      padding: 8px 12px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -100px;
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 14px;
      line-height: 1.4;
    }
    
    .tooltip .tooltiptext::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: #1f2937 transparent transparent transparent;
    }
    
    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }
    
    /* Loading states */
    .loading-skeleton {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
    }
    
    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    
    
    /* Mobile optimizations */
    @media (max-width: 768px) {
      .tool-card {
        min-height: 120px; /* Ensure touch targets are large enough */
      }
      
      .btn-primary,
      .btn-secondary {
        min-height: 44px; /* iOS recommended touch target size */
        padding: 12px 16px;
      }
      
      .stats-card {
        padding: 16px 12px;
      }
      
      /* Improve mobile navigation */
      #mobile-menu {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 50;
        display: none;
      }
      
      #mobile-menu.show {
        display: block;
      }
      
      #mobile-menu-content {
        position: absolute;
        top: 0;
        right: 0;
        width: 280px;
        height: 100%;
        background: white;
        padding: 20px;
        transform: translateX(100%);
        transition: transform 0.3s ease;
      }
      
      #mobile-menu.show #mobile-menu-content {
        transform: translateX(0);
      }
    }
    
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    
    .loading-overlay.active {
      opacity: 1;
      visibility: visible;
    }
    
    .loading-content {
      text-align: center;
      color: #1a1a1a;
    }
    
    .loading-content h3 {
      margin-top: 20px;
      font-size: 18px;
      font-weight: 600;
    }
    
    .loading-content p {
      margin-top: 8px;
      color: #6b7280;
    }
    
    .fade-in {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.8s ease-out;
    }
    
    .fade-in.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    .slide-up {
      opacity: 0;
      transform: translateY(50px);
      transition: all 1s ease-out;
    }
    
    .slide-up.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    .pulse-glow {
      animation: pulseGlow 2s ease-in-out infinite;
    }
    
    .accent-gradient {
      background: linear-gradient(135deg, #3b82f6, #10b981, #f59e0b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .tool-icon {
      width: 60px;
      height: 60px;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      margin-bottom: 16px;
      transition: all 0.3s ease;
    }
    
    .pdf-icon {
      background: linear-gradient(135deg, #ef4444, #dc2626);
    }
    
    .text-icon {
      background: linear-gradient(135deg, #10b981, #059669);
    }
    
    .media-icon {
      background: linear-gradient(135deg, #8b5cf6, #7c3aed);
    }
    
    .ai-icon {
      background: linear-gradient(135deg, #f59e0b, #d97706);
    }
    
    .card:hover .tool-icon {
      transform: scale(1.1) rotate(5deg);
    }
    
    .nav-link {
      position: relative;
      transition: all 0.3s ease;
    }
    
    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 0;
      height: 2px;
      background: #3b82f6;
      transition: width 0.3s ease;
    }
    
    .nav-link:hover::after {
      width: 100%;
    }
    
    .category-btn {
      background: #ffffff;
      border: 2px solid #e5e7eb;
      color: #6b7280;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 8px;
      transition: all 0.2s ease;
      font-size: 14px;
      cursor: pointer;
    }
    
    .category-btn:hover {
      border-color: #3b82f6;
      color: #3b82f6;
      transform: translateY(-1px);
    }
    
    .category-btn.active {
      background: #3b82f6;
      border-color: #3b82f6;
      color: #ffffff;
    }
    
    .filter-tag {
      background: #f3f4f6;
      border: 1px solid #e5e7eb;
      color: #6b7280;
      font-weight: 500;
      padding: 4px 8px;
      border-radius: 6px;
      transition: all 0.2s ease;
      font-size: 12px;
      cursor: pointer;
    }
    
    .filter-tag:hover {
      background: #e5e7eb;
      color: #374151;
    }
    
    .filter-tag.active {
      background: #3b82f6;
      border-color: #3b82f6;
      color: #ffffff;
    }
    
    /* Autocomplete dropdown */
    .autocomplete-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #e5e7eb;
      border-top: none;
      border-radius: 0 0 8px 8px;
      max-height: 200px;
      overflow-y: auto;
      z-index: 50;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }
    
    .autocomplete-item {
      padding: 12px 16px;
      cursor: pointer;
      border-bottom: 1px solid #f3f4f6;
      transition: background-color 0.2s ease;
    }
    
    .autocomplete-item:hover,
    .autocomplete-item.selected {
      background-color: #f3f4f6;
    }
    
    .autocomplete-item:last-child {
      border-bottom: none;
    }
    
    .tool-card.hidden {
      display: none;
    }
    
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }
    
    /* Performance optimizations */
    .lazy {
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .lazy.loaded {
      opacity: 1;
    }
    
    /* Optimize animations for better performance */
    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
    
    /* GPU acceleration for smooth animations */
    .card,
    .btn-primary,
    .btn-secondary,
    .floating-icon,
    .web-spinner {
      will-change: transform;
      transform: translateZ(0);
    }
    
    /* Mobile optimizations */
    @media (max-width: 768px) {
      .card:hover {
        transform: translateY(-4px) scale(1.01);
      }
      
      .btn-primary:hover {
        transform: translateY(-1px);
      }
      
      .btn-donate:hover {
        transform: translateY(-2px) scale(1.02);
      }
      
      /* Improve touch targets */
      .btn-primary,
      .btn-secondary,
      .category-btn {
        min-height: 44px;
        min-width: 44px;
      }
      
      /* Better spacing on mobile */
      .card {
        margin-bottom: 1rem;
      }
      
      /* Optimize text sizes */
      h1 {
        font-size: 2.5rem;
        line-height: 1.1;
      }
      
      h2 {
        font-size: 1.5rem;
      }
      
      /* Improve form inputs */
      input, select, textarea {
        font-size: 16px; /* Prevents zoom on iOS */
      }
    }
    
    /* Tablet optimizations */
    @media (min-width: 769px) and (max-width: 1024px) {
      .grid.grid-cols-2 {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }
    }
    
    /* Large screen optimizations */
    @media (min-width: 1025px) {
      .max-w-7xl {
        max-width: 80rem;
      }
    }
  </style>
</head>
<body class="min-h-screen gradient-bg">
  <!-- Skip to content link for accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <!-- Loading Overlay -->
  <div id="loading-overlay" class="loading-overlay" role="dialog" aria-modal="true" aria-labelledby="loading-title" aria-describedby="loading-description">
    <div class="loading-content">
      <div class="web-spinner" aria-hidden="true"></div>
      <h3 id="loading-title">Processing...</h3>
      <p id="loading-description">Please wait while we handle your request</p>
    </div>
  </div>

  <!-- Skeleton Loading Screen -->
  <div id="skeleton-loader" class="fixed inset-0 bg-white z-50">
    <div class="max-w-7xl mx-auto px-4 md:px-6 py-16">
      <!-- Header Skeleton -->
      <div class="flex items-center justify-between mb-16">
        <div class="loading-skeleton h-8 w-32 rounded"></div>
        <div class="hidden md:flex items-center gap-6">
          <div class="loading-skeleton h-4 w-16 rounded"></div>
          <div class="loading-skeleton h-4 w-16 rounded"></div>
          <div class="loading-skeleton h-4 w-16 rounded"></div>
          <div class="loading-skeleton h-8 w-24 rounded"></div>
        </div>
      </div>
      
      <!-- Hero Skeleton -->
      <div class="grid lg:grid-cols-2 gap-12 items-center mb-16">
        <div class="space-y-6">
          <div class="loading-skeleton h-16 w-16 rounded-2xl"></div>
          <div class="loading-skeleton h-12 w-64 rounded"></div>
          <div class="loading-skeleton h-6 w-96 rounded"></div>
          <div class="grid grid-cols-3 gap-4">
            <div class="loading-skeleton h-20 w-full rounded-xl"></div>
            <div class="loading-skeleton h-20 w-full rounded-xl"></div>
            <div class="loading-skeleton h-20 w-full rounded-xl"></div>
          </div>
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div class="loading-skeleton h-32 w-full rounded-xl"></div>
          <div class="loading-skeleton h-32 w-full rounded-xl"></div>
          <div class="loading-skeleton h-32 w-full rounded-xl"></div>
          <div class="loading-skeleton h-32 w-full rounded-xl"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Ko-fi Widget Modal -->
  <div id="kofi-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="kofi-title" aria-describedby="kofi-description">
    <div class="flex items-center justify-center min-h-screen p-4">
      <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden">
        <div class="flex justify-between items-center p-6 border-b">
          <h3 id="kofi-title" class="text-xl font-bold text-gray-900">Support Webspind</h3>
          <button onclick="closeKoFiWidget()" class="text-gray-400 hover:text-gray-600 text-2xl" aria-label="Close support modal">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="p-6">
          <p id="kofi-description" class="sr-only">Support Webspind by making a donation through Ko-fi</p>
          <iframe id='kofiframe' data-src='https://ko-fi.com/webspind/?hidefeed=true&widget=true&embed=true&preview=true' style='border:none;width:100%;padding:4px;background:#f9f9f9;' height='712' title='Ko-fi donation widget for Webspind' loading="lazy"></iframe>
        </div>
      </div>
    </div>
  </div>

  <!-- Premium Waitlist Modal -->
  <div id="premium-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="premium-title" aria-describedby="premium-description">
    <div class="flex items-center justify-center min-h-screen p-4">
      <div class="bg-white rounded-2xl max-w-lg w-full">
        <div class="flex justify-between items-center p-6 border-b">
          <h3 id="premium-title" class="text-xl font-bold text-gray-900">🚀 Join Premium Waitlist</h3>
          <button onclick="closePremiumWaitlist()" class="text-gray-400 hover:text-gray-600 text-2xl" aria-label="Close premium waitlist modal">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="p-6">
          <p id="premium-description" class="text-gray-600 mb-6">Be the first to know when premium features launch! Get early access and special pricing.</p>
          
          <form id="premium-waitlist-form" class="space-y-4" aria-label="Premium waitlist signup form">
            <div>
              <label for="premium-email" class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
              <input type="email" id="premium-email" name="email" required 
                     class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                     placeholder="your@email.com" aria-describedby="email-help">
              <div id="email-help" class="sr-only">Enter your email address to join the premium waitlist</div>
            </div>
            
            <fieldset>
              <legend class="block text-sm font-medium text-gray-700 mb-2">Interested in:</legend>
              <div class="space-y-2" role="group" aria-labelledby="interests-legend">
                <label class="flex items-center">
                  <input type="checkbox" name="interests" value="batch-processing" class="mr-2" aria-describedby="batch-help">
                  <span class="text-sm">Batch Processing</span>
                </label>
                <label class="flex items-center">
                  <input type="checkbox" name="interests" value="api-access" class="mr-2" aria-describedby="api-help">
                  <span class="text-sm">API Access</span>
                </label>
                <label class="flex items-center">
                  <input type="checkbox" name="interests" value="advanced-ai" class="mr-2" aria-describedby="ai-help">
                  <span class="text-sm">Advanced AI Features</span>
                </label>
                <label class="flex items-center">
                  <input type="checkbox" name="interests" value="custom-branding" class="mr-2" aria-describedby="branding-help">
                  <span class="text-sm">Custom Branding</span>
                </label>
              </div>
              <div class="sr-only">
                <div id="batch-help">Select if you're interested in batch processing features</div>
                <div id="api-help">Select if you're interested in API access</div>
                <div id="ai-help">Select if you're interested in advanced AI features</div>
                <div id="branding-help">Select if you're interested in custom branding options</div>
              </div>
            </fieldset>
            
            <button type="submit" class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold py-3 px-4 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all">
              Join Waitlist
            </button>
          </form>
          
          <p class="text-xs text-gray-500 mt-4 text-center">
            We'll only email you about premium features. No spam, ever.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="sticky top-0 z-50 w-full glass border-b border-gray-200 transition-shadow" role="navigation" aria-label="Main navigation" id="site-nav">
    <div class="max-w-7xl mx-auto px-4 md:px-6 py-3 md:py-4 flex items-center justify-between gap-3" id="nav-inner">
      <a href="/" class="font-black tracking-tight text-xl text-gray-900 webspind-logo brand" aria-label="Webspind - Home">
        <img src="/assets/webspind-logo.svg" alt="" class="inline-block h-6 w-6 mr-1 align-[-2px] brand-logo"> <span class="brand-text">Webspind</span>
      </a>
      
      <!-- Inline Nav Links (Desktop) -->
      <div class="hidden lg:flex items-center gap-6 ml-8">
        <a href="#tools" class="text-sm text-gray-700 hover:text-gray-900 nav-link">All Tools</a>
        <a href="/pricing.html" class="text-sm text-gray-700 hover:text-gray-900 nav-link">Pricing</a>
        <a href="/privacy.html" class="text-sm text-gray-700 hover:text-gray-900 nav-link">Privacy</a>
      </div>

      <!-- Mobile Menu Button -->
      <button id="mobile-menu-btn" class="md:hidden p-3 rounded-lg hover:bg-gray-100 touch-manipulation" aria-label="Open mobile menu" aria-expanded="false" aria-controls="mobile-menu">
        <span class="sr-only">Toggle menu</span>
        <svg class="h-6 w-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true" id="icon-hamburger">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
        <svg class="h-6 w-6 text-gray-700 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true" id="icon-close">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
      
      <!-- Primary CTA Button -->
      <div class="hidden md:flex items-center gap-2">
        <button class="buy-credits-btn bg-white border border-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors" aria-label="Buy credits">
          Buy Credits
        </button>
        <button onclick="scrollToTools()" class="btn-secondary" aria-label="Get started with tools">
          Get Started
        </button>
        <button onclick="handleUpgradeClick()" class="btn-primary pulse-glow upgrade-btn" aria-label="Upgrade to Pro plan">
          Upgrade to Pro
        </button>
      </div>
      
      <!-- Language Selector -->
      <div class="hidden md:block relative">
        <button id="language-btn" class="p-2 rounded-lg hover:bg-gray-100 transition-colors" aria-label="Select language" aria-expanded="false" aria-haspopup="true">
          <svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"></path>
          </svg>
          <span class="ml-1 text-sm text-gray-600" id="current-lang">EN</span>
        </button>
        
        <!-- Language Menu Dropdown -->
        <div id="language-menu" class="absolute right-0 mt-2 w-32 bg-white rounded-lg shadow-lg border border-gray-200 hidden z-50" role="menu" aria-labelledby="language-btn">
          <div class="py-1">
            <button onclick="changeLanguage('en')" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50" role="menuitem">🇺🇸 English</button>
            <button onclick="changeLanguage('es')" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50" role="menuitem">🇪🇸 Español</button>
            <button onclick="changeLanguage('fr')" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50" role="menuitem">🇫🇷 Français</button>
            <button onclick="changeLanguage('de')" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50" role="menuitem">🇩🇪 Deutsch</button>
            <button onclick="changeLanguage('zh')" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50" role="menuitem">🇨🇳 中文</button>
          </div>
        </div>
      </div>

      <!-- More Menu Button -->
      <div class="hidden md:block relative lg:hidden">
        <button id="more-menu-btn" class="p-2 rounded-lg hover:bg-gray-100 transition-colors" aria-label="More options" aria-expanded="false" aria-haspopup="true">
          <svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path>
          </svg>
        </button>
        
        <!-- More Menu Dropdown -->
        <div id="more-menu" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 hidden z-50" role="menu" aria-labelledby="more-menu-btn">
          <div class="py-1">
            <a href="#tools" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50" role="menuitem">All Tools</a>
            <a href="/pricing.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50" role="menuitem">Pricing</a>
            <a href="/privacy.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50" role="menuitem">Privacy</a>
            <hr class="my-1">
            <button onclick="handleUpgradeClick()" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50" role="menuitem">Upgrade to Pro</button>
            <button onclick="openSupport()" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50" role="menuitem">Support</button>
          </div>
        </div>
      </div>
      
      <!-- Quota Badge -->
      <div id="quota-badge" class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm hidden md:block" role="status" aria-live="polite">
        <span class="text-sm font-medium">Loading...</span>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="md:hidden hidden bg-white border-t border-gray-200" role="menu" aria-labelledby="mobile-menu-btn">
      <div class="px-4 py-4 space-y-4">
        <div class="relative hidden"></div>
        <div class="space-y-2" role="menuitem">
          <button class="w-full text-left px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg font-medium buy-credits-btn" role="menuitem">
            Buy Credits
          </button>
          <button onclick="scrollToTools(); document.getElementById('mobile-menu').classList.add('hidden');" class="w-full text-left px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg font-medium" role="menuitem">
            All Tools
          </button>
          <a class="block px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg font-medium" href="/pricing.html" role="menuitem">Pricing</a>
          <a class="block px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg font-medium" href="/privacy.html" role="menuitem">Privacy</a>
          <hr class="my-2">
          <button onclick="handleUpgradeClick()" class="w-full text-left px-4 py-3 text-white bg-gray-900 hover:bg-gray-800 rounded-lg font-medium upgrade-btn" role="menuitem" aria-label="Upgrade to Pro plan">
            Upgrade to Pro
          </button>
          <button onclick="openSupport()" class="w-full text-left px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg font-medium support-btn" role="menuitem" aria-label="Support Webspind">
            Support
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <main id="main-content" class="max-w-7xl mx-auto px-4 md:px-6 py-16 relative z-10 hero" role="main" aria-label="Main content">
    <section class="space-y-10 fade-in hero-inner">
      <!-- Intro Block (moved under tools) -->
      <div class="text-center lg:text-left grid lg:grid-cols-2 gap-10 items-start">
        <div>
        <div class="floating-icon inline-block mb-6">
          <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-green-500 rounded-2xl flex items-center justify-center text-3xl text-white">
            🕸️
          </div>
        </div>

        <h1 class="text-4xl md:text-6xl font-black tracking-tight mb-3 md:mb-4 leading-tight hero-title">
          <span class="hero-text">Webspind</span>
          <br>
          <span class="text-gray-900">Fast, Private Document Tools</span>
        </h1>
        
        <p class="text-lg md:text-xl text-gray-600 mb-6 md:mb-8 leading-relaxed max-w-2xl hero-sub">
          Merge, split, OCR, convert images, generate QR — all in your browser. 
          <span class="font-bold text-gray-900">No uploads. No sign‑up.</span>
        </p>

        <!-- Quick Actions -->
        <div class="mb-6 md:mb-8 hero-actions">
          <div class="flex flex-wrap gap-2 md:gap-3 justify-center lg:justify-start">
            <a href="/tools/pdf-merge/" class="btn-secondary">Merge PDF</a>
            <a href="/tools/pdf-split/" class="btn-secondary">Split PDF</a>
            <a href="/tools/pdf-ocr/" class="btn-secondary">OCR PDF</a>
            <a href="/tools/image-converter/" class="btn-secondary">Convert Images</a>
            <a href="/tools/qr-generator/" class="btn-secondary">Generate QR</a>
          </div>
        </div>
        
        <!-- Hero CTA Button -->
        <div class="mb-8 md:mb-10">
          <button onclick="scrollToTools()" class="btn-primary text-lg px-7 md:px-8 py-4 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105" data-translate="try-tools">
            Try Tools Now →
          </button>
          <p class="text-sm text-gray-500 mt-2">No registration required • Works offline</p>
        </div>

        <!-- Prominent Pro CTA: concise offer just under hero -->
        <div class="bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-xl p-5 md:p-6 mb-8 md:mb-10 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
          <div>
            <div class="text-sm uppercase tracking-wide text-blue-700 font-semibold mb-1">Pro Pass</div>
            <div class="text-gray-700 text-sm">300 actions/day • Batch tools • OCR & redaction • Faster processing • No ads</div>
          </div>
          <div class="flex gap-2 w-full sm:w-auto">
            <a href="/pricing.html" class="btn-primary px-5">Upgrade — €6.99/mo</a>
            <a href="/pricing.html" class="btn-secondary">See Plans</a>
          </div>
        </div>
        
        <!-- Stats -->
        <div class="grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-4 mb-8 md:mb-10 fade-in">
        <div class="stats-card tooltip">
          <div class="text-2xl font-bold text-gray-900 mb-1">9</div>
          <div class="text-gray-600 text-xs">Professional Tools</div>
          <span class="tooltiptext">PDF merge, split, rotate, OCR, image converter, QR generator, text tools, AI detector, and more</span>
          <div class="stats-card tooltip hidden lg:block">
            <div class="text-2xl font-bold text-gray-900 mb-1">24/7</div>
            <div class="text-gray-600 text-xs">Always Available</div>
            <span class="tooltiptext">Tools run in your browser, available any time without signup</span>
          </div>
        </div>
        <div class="stats-card tooltip">
          <div class="text-2xl font-bold text-gray-900 mb-1">50K+</div>
          <div class="text-gray-600 text-xs">Monthly Users</div>
          <span class="tooltiptext">Trusted by professionals worldwide for secure document processing</span>
        </div>
        <div class="stats-card tooltip">
          <div class="text-2xl font-bold text-gray-900 mb-1">100%</div>
          <div class="text-gray-600 text-xs">Privacy Safe</div>
          <span class="tooltiptext">All processing happens locally in your browser - no file uploads</span>
        </div>
        </div>
        
        <!-- Enhanced Social Proof -->
        <div class="bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-6 mb-8 fade-in">
          <div class="flex items-center justify-center mb-4">
            <div class="flex -space-x-2">
              <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-bold">A</div>
              <div class="w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold">B</div>
              <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white text-sm font-bold">C</div>
              <div class="w-8 h-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center text-white text-sm font-bold">+</div>
            </div>
            <span class="ml-3 text-sm text-gray-600">Trusted by 50,000+ users monthly</span>
          </div>
          
          <!-- Live Usage Stats -->
          <div class="grid grid-cols-3 gap-4 mb-4">
            <div class="text-center">
              <div class="text-lg font-bold text-gray-900" id="live-pdf-count">2,847</div>
              <div class="text-xs text-gray-600">PDFs processed today</div>
            </div>
            <div class="text-center">
              <div class="text-lg font-bold text-gray-900" id="live-qr-count">1,523</div>
              <div class="text-xs text-gray-600">QR codes generated</div>
            </div>
            <div class="text-center">
              <div class="text-lg font-bold text-gray-900" id="live-ai-count">892</div>
              <div class="text-xs text-gray-600">AI analyses run</div>
            </div>
          </div>
          
          <div class="text-center">
            <div class="flex items-center justify-center mb-2">
              <div class="flex text-yellow-400">
                <span>★★★★★</span>
              </div>
              <span class="ml-2 text-sm text-gray-600">4.8/5 rating (1,250+ reviews)</span>
            </div>
            <p class="text-sm text-gray-600 italic">"Finally, PDF tools that actually work and respect my privacy!"</p>
            <p class="text-xs text-gray-500 mt-1">- Sarah M., Content Creator</p>
          </div>
        </div>

        <!-- Right Column Quick Launcher (Desktop) -->
        <aside class="hidden lg:block sticky top-24">
          <div class="card p-5 space-y-3">
            <div class="text-sm font-semibold text-gray-900">Quick Launcher</div>
            <div class="grid grid-cols-2 gap-2">
              <a href="/tools/pdf-merge/" class="btn-secondary text-sm">Merge PDF</a>
              <a href="/tools/pdf-split/" class="btn-secondary text-sm">Split PDF</a>
              <a href="/tools/pdf-ocr/" class="btn-secondary text-sm">OCR PDF</a>
              <a href="/tools/pdf-pages/" class="btn-secondary text-sm">Reorder Pages</a>
              <a href="/tools/image-converter/" class="btn-secondary text-sm">Convert Images</a>
              <a href="/tools/qr-generator/" class="btn-secondary text-sm">Generate QR</a>
            </div>
            <div class="pt-2 border-t border-gray-200">
              <button onclick="handleUpgradeClick()" class="btn-primary w-full">Upgrade to Pro</button>
            </div>
          </div>
        </aside>
      </div>

      <!-- Tools Grid (now above intro) -->
      <div class="space-y-6" id="tools">
        <!-- Tool Categories with Filter Tags -->
        <!-- Filters removed for simplicity due to few tools -->
        
        <!-- Recently Used Tools -->
        <div id="recent-tools" class="mb-6 hidden">
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Recently Used</h3>
          <div class="flex gap-2 overflow-x-auto pb-2">
            <!-- Recent tools will be populated here -->
          </div>
        </div>

        <div class="grid grid-cols-2 gap-4" id="tools-grid" role="tabpanel" aria-labelledby="tab-all">
      <a href="/tools/pdf-merge/" class="card group p-4 hover:scale-105 transition-all duration-500 fade-in tool-card" data-category="pdf" data-keywords="pdf merge combine documents" data-popular="true" aria-label="PDF Merge - Combine multiple PDF documents into a single file">
        <div class="flex items-center mb-3">
          <div class="tool-icon pdf-icon text-white mr-3" style="width: 40px; height: 40px; font-size: 16px;" aria-hidden="true">
            📄
          </div>
          <div>
            <div class="feature-badge" style="font-size: 10px; padding: 2px 6px;" aria-label="PDF tool">PDF</div>
            <h2 class="text-lg font-bold text-gray-900">PDF Merge</h2>
          </div>
        </div>
        <p class="text-gray-600 text-sm mb-3 leading-relaxed">
          Combine multiple PDF documents into a single file.
        </p>
        <div class="flex items-center justify-between">
          <div class="text-xs text-gray-500">Drag & Drop</div>
          <div class="text-lg group-hover:translate-x-2 transition-transform" aria-hidden="true">→</div>
        </div>
      </a>

      <a href="/tools/pdf-split/" class="card group p-4 hover:scale-105 transition-all duration-500 fade-in tool-card" data-category="pdf" data-keywords="pdf split extract pages" data-popular="true">
        <div class="flex items-center mb-3">
          <div class="tool-icon pdf-icon text-white mr-3" style="width: 40px; height: 40px; font-size: 16px;">
            ✂️
          </div>
          <div>
            <div class="feature-badge" style="font-size: 10px; padding: 2px 6px;">PDF</div>
            <h2 class="text-lg font-bold text-gray-900">PDF Split</h2>
          </div>
        </div>
        <p class="text-gray-600 text-sm mb-3 leading-relaxed">
          Extract specific pages or page ranges from PDF documents.
        </p>
        <div class="flex items-center justify-between">
          <div class="text-xs text-gray-500">Page Range</div>
          <div class="text-lg group-hover:translate-x-2 transition-transform">→</div>
        </div>
      </a>

      <a href="/tools/pdf-pages/" class="card group p-4 hover:scale-105 transition-all duration-500 fade-in tool-card" data-category="pdf" data-keywords="pdf pages reorder rotate">
        <div class="flex items-center mb-3">
          <div class="tool-icon pdf-icon text-white mr-3" style="width: 40px; height: 40px; font-size: 16px;">
            🔄
          </div>
          <div>
            <div class="feature-badge" style="font-size: 10px; padding: 2px 6px;">PDF</div>
            <h2 class="text-lg font-bold text-gray-900">PDF Pages</h2>
          </div>
        </div>
        <p class="text-gray-600 text-sm mb-3 leading-relaxed">
          Reorder, delete, and rotate PDF pages with precision.
        </p>
        <div class="flex items-center justify-between">
          <div class="text-xs text-gray-500">Page Management</div>
          <div class="text-lg group-hover:translate-x-2 transition-transform">→</div>
        </div>
      </a>

      <a href="/tools/text-tools/" class="card group p-4 hover:scale-105 transition-all duration-500 fade-in tool-card" data-category="text" data-keywords="text processing word count">
        <div class="flex items-center mb-3">
          <div class="tool-icon text-icon text-white mr-3" style="width: 40px; height: 40px; font-size: 16px;">
            📝
          </div>
          <div>
            <div class="feature-badge" style="font-size: 10px; padding: 2px 6px;">TEXT</div>
            <h2 class="text-lg font-bold text-gray-900">Text Toolkit</h2>
          </div>
        </div>
        <p class="text-gray-600 text-sm mb-3 leading-relaxed">
          Advanced text processing and data manipulation tools.
        </p>
        <div class="flex items-center justify-between">
          <div class="text-xs text-gray-500">Word Count</div>
          <div class="text-lg group-hover:translate-x-2 transition-transform">→</div>
        </div>
      </a>

      <a href="/tools/image-converter/" class="card group p-4 hover:scale-105 transition-all duration-500 fade-in tool-card" data-category="image" data-keywords="image converter jpg png webp" data-popular="true">
        <div class="flex items-center mb-3">
          <div class="tool-icon media-icon text-white mr-3" style="width: 40px; height: 40px; font-size: 16px;">
            🖼️
          </div>
          <div>
            <div class="feature-badge" style="font-size: 10px; padding: 2px 6px;">IMAGE</div>
            <h2 class="text-lg font-bold text-gray-900">Image Converter</h2>
          </div>
        </div>
        <p class="text-gray-600 text-sm mb-3 leading-relaxed">
          Professional image format conversion and optimization.
        </p>
        <div class="flex items-center justify-between">
          <div class="text-xs text-gray-500">JPG, PNG, WebP</div>
          <div class="text-lg group-hover:translate-x-2 transition-transform">→</div>
        </div>
      </a>

      <a href="/tools/qr-generator/" class="card group p-4 hover:scale-105 transition-all duration-500 fade-in tool-card" data-category="utility" data-keywords="qr code generator" data-popular="true">
        <div class="flex items-center mb-3">
          <div class="tool-icon text-icon text-white mr-3" style="width: 40px; height: 40px; font-size: 16px;">
            📱
          </div>
          <div>
            <div class="feature-badge" style="font-size: 10px; padding: 2px 6px;">QR</div>
            <h2 class="text-lg font-bold text-gray-900">QR Generator</h2>
          </div>
        </div>
        <p class="text-gray-600 text-sm mb-3 leading-relaxed">
          Generate professional QR codes for URLs and text.
        </p>
        <div class="flex items-center justify-between">
          <div class="text-xs text-gray-500">High Resolution</div>
          <div class="text-lg group-hover:translate-x-2 transition-transform">→</div>
        </div>
      </a>

      <a href="/tools/ai-detector/" class="card group p-4 hover:scale-105 transition-all duration-500 fade-in tool-card" data-category="utility" data-keywords="ai detector content analysis" data-new="true">
        <div class="flex items-center mb-3">
          <div class="tool-icon ai-icon text-white mr-3" style="width: 40px; height: 40px; font-size: 16px;">
            🤖
          </div>
          <div>
            <div class="feature-badge" style="font-size: 10px; padding: 2px 6px;">AI</div>
            <h2 class="text-lg font-bold text-gray-900">AI Detector</h2>
          </div>
        </div>
        <p class="text-gray-600 text-sm mb-3 leading-relaxed">
          Detect AI-generated content using linguistic analysis.
        </p>
        <div class="flex items-center justify-between">
          <div class="text-xs text-gray-500">Pattern Analysis</div>
          <div class="text-lg group-hover:translate-x-2 transition-transform">→</div>
        </div>
      </a>

      <a href="/tools/pdf-ocr/" class="card group p-4 hover:scale-105 transition-all duration-500 fade-in tool-card" data-category="pdf" data-keywords="pdf ocr make pdf readable copyable">
        <div class="flex items-center mb-3">
          <div class="tool-icon pdf-icon text-white mr-3" style="width: 40px; height: 40px; font-size: 16px;">
            📄
          </div>
          <div>
            <div class="feature-badge" style="font-size: 10px; padding: 2px 6px;">PDF</div>
            <h2 class="text-lg font-bold text-gray-900">PDF OCR</h2>
          </div>
        </div>
        <p class="text-gray-600 text-sm mb-3 leading-relaxed">
          Make PDFs readable and copyable with OCR text extraction.
        </p>
        <div class="flex items-center justify-between">
          <div class="text-xs text-gray-500">Text Extraction</div>
          <div class="text-lg group-hover:translate-x-2 transition-transform">→</div>
        </div>
      </a>

      <a href="/tools/password-generator/" class="card group p-4 hover:scale-105 transition-all duration-500 fade-in tool-card" data-category="utility" data-keywords="password generator secure random">
        <div class="flex items-center mb-3">
          <div class="tool-icon text-white mr-3" style="width: 40px; height: 40px; font-size: 16px; background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
            🔐
          </div>
          <div>
            <div class="feature-badge" style="font-size: 10px; padding: 2px 6px;">SECURITY</div>
            <h2 class="text-lg font-bold text-gray-900">Password Generator</h2>
          </div>
        </div>
        <p class="text-gray-600 text-sm mb-3 leading-relaxed">
          Generate secure, random passwords with customizable options.
        </p>
        <div class="flex items-center justify-between">
          <div class="text-xs text-gray-500">Cryptographically Secure</div>
          <div class="text-lg group-hover:translate-x-2 transition-transform">→</div>
        </div>
      </a>

      <a href="/tools/image-resizer/" class="card group p-4 hover:scale-105 transition-all duration-500 fade-in tool-card" data-category="image" data-keywords="image resizer batch resize dimensions">
        <div class="flex items-center mb-3">
          <div class="tool-icon media-icon text-white mr-3" style="width: 40px; height: 40px; font-size: 16px;">
            📏
          </div>
          <div>
            <div class="feature-badge" style="font-size: 10px; padding: 2px 6px;">IMAGE</div>
            <h2 class="text-lg font-bold text-gray-900">Image Resizer</h2>
          </div>
        </div>
        <p class="text-gray-600 text-sm mb-3 leading-relaxed">
          Resize images to any size with batch processing and aspect ratio control.
        </p>
        <div class="flex items-center justify-between">
          <div class="text-xs text-gray-500">Batch Processing</div>
          <div class="text-lg group-hover:translate-x-2 transition-transform">→</div>
        </div>
      </a>

      <a href="/tools/background-remover/" class="card group p-4 hover:scale-105 transition-all duration-500 fade-in tool-card" data-category="image" data-keywords="background remover transparent background ai" data-new="true">
        <div class="flex items-center mb-3">
          <div class="tool-icon text-white mr-3" style="width: 40px; height: 40px; font-size: 16px; background: linear-gradient(135deg, #667eea, #764ba2);">
            🎭
          </div>
          <div>
            <div class="feature-badge" style="font-size: 10px; padding: 2px 6px; background: linear-gradient(135deg, #667eea, #764ba2); color: white;">PRO</div>
            <h2 class="text-lg font-bold text-gray-900">Background Remover</h2>
          </div>
        </div>
        <p class="text-gray-600 text-sm mb-3 leading-relaxed">
          Remove backgrounds from images instantly with AI. Perfect for product photos and portraits.
        </p>
        <div class="flex items-center justify-between">
          <div class="text-xs text-gray-500">AI-Powered</div>
          <div class="text-lg group-hover:translate-x-2 transition-transform">→</div>
        </div>
      </a>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="mt-16 fade-in">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">Frequently Asked Questions</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">Everything you need to know about our professional tools</p>
      </div>
      
      <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
        <div class="card p-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Are my files secure and private?</h3>
          <p class="text-gray-600 text-sm">Yes! All processing happens locally in your browser. Your files never leave your device and are never uploaded to our servers.</p>
        </div>
        
        <div class="card p-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Do I need to create an account?</h3>
          <p class="text-gray-600 text-sm">No registration required! All tools work instantly without any sign-up process. Just open and use.</p>
        </div>
        
        <div class="card p-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3">What file sizes are supported?</h3>
          <p class="text-gray-600 text-sm">Most tools support files up to 100MB. For larger files, consider using our premium tier with increased limits.</p>
        </div>
        
        <div class="card p-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Can I use these tools offline?</h3>
          <p class="text-gray-600 text-sm">Yes! Once the page loads, all tools work completely offline. No internet connection required for processing.</p>
        </div>
        
        <div class="card p-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Are there any hidden costs?</h3>
          <p class="text-gray-600 text-sm">All basic features are completely free forever. Premium features are optional and clearly marked.</p>
        </div>
        
        <div class="card p-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3">How accurate is the AI detector?</h3>
          <p class="text-gray-600 text-sm">Our AI detector uses advanced linguistic analysis with 85%+ accuracy. Results are for guidance only.</p>
        </div>
      </div>
    </section>

    <!-- Upgrade Section (kept, but elevated with stronger copy) -->
    <section class="mt-16 text-center fade-in" aria-labelledby="upgrade-section-title">
      <div class="card p-8 max-w-4xl mx-auto">
        <div class="flex items-center justify-center mb-4">
          <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-green-500 rounded-xl flex items-center justify-center text-2xl text-white">
            🚀
          </div>
        </div>
        
        <h2 id="upgrade-section-title" class="text-2xl font-bold mb-3 text-gray-900">
          Need More Power?
        </h2>
        
        <p class="text-gray-600 mb-6 max-w-2xl mx-auto">
          Upgrade to unlock <span class="font-semibold">300 actions/day</span>, <span class="font-semibold">batch processing</span>, <span class="font-semibold">OCR & redaction</span>, <span class="font-semibold">faster processing</span>, and <span class="font-semibold">no ads</span>.
        </p>
        <div class="flex items-center justify-center gap-4 text-xs text-gray-500 mb-6">
          <span>⭐ 4.8/5 average rating</span>
          <span>•</span>
          <span>50K+ monthly users</span>
        </div>
        
        <!-- Upgrade Options -->
        <div class="grid md:grid-cols-2 gap-6 mb-8">
          <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-200">
            <div class="text-3xl mb-3">⚡</div>
            <h3 class="font-semibold text-gray-900 mb-2">Pro Pass</h3>
            <p class="text-sm text-gray-600 mb-4">300/day • Batch • OCR/Redaction • Faster • No ads</p>
            <button onclick="handleUpgradeClick()" class="btn-primary text-sm w-full">
              €6.99/mo - Get Pro
            </button>
          </div>
          
          <div class="bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200">
            <div class="text-3xl mb-3">☕</div>
            <h3 class="font-semibold text-gray-900 mb-2">Support Us</h3>
            <p class="text-sm text-gray-600 mb-4">One-time contribution to keep tools free</p>
            <button onclick="openSupport()" class="btn-secondary text-sm w-full">
              Support
            </button>
          </div>
        </div>
        
        <!-- Current Plan Info -->
        <div class="bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl p-6 mb-6">
          <h3 class="font-semibold text-gray-900 mb-3">Your current plan:</h3>
          <div class="flex items-center justify-center gap-4 text-sm text-gray-600">
            <div class="flex items-center gap-2">
              <span class="text-blue-500">📊</span>
              <span id="current-plan-display">Free - 3 actions/day</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-green-500">⏰</span>
              <span id="reset-timer">Resets in 12h 34m</span>
            </div>
          </div>
        </div>
        
        <div class="text-xs text-gray-500">
          All tools remain free • Pro features optional • No ads • Secure checkout by Stripe
        </div>
      </div>
    </section>
  </main>

  <!-- Usage Progress Bar -->
  <div id="usage-progress" class="fixed top-0 left-0 right-0 bg-white border-b border-gray-200 shadow-sm z-40 hidden">
    <div class="max-w-7xl mx-auto px-4 py-3">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="w-6 h-6 bg-yellow-100 rounded-full flex items-center justify-center">
            <span class="text-yellow-600 text-sm">⚠️</span>
          </div>
          <div>
            <p class="text-sm font-medium text-gray-900">Daily limit reached</p>
            <p class="text-xs text-gray-600">You've used all 3 free actions today</p>
          </div>
        </div>
        <div class="flex items-center gap-2">
          <button onclick="showUpgradeOptions()" class="text-sm bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
            Upgrade
          </button>
          <button onclick="hideUsageProgress()" class="text-gray-400 hover:text-gray-600 p-1" aria-label="Dismiss">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Pre-limit Warning Bar -->
  <div id="prelimit-progress" class="fixed top-0 left-0 right-0 bg-white border-b border-yellow-200 shadow-sm z-40 hidden">
    <div class="max-w-7xl mx-auto px-4 py-3">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="w-6 h-6 bg-yellow-50 rounded-full flex items-center justify-center">
            <span class="text-yellow-500 text-sm">⏳</span>
          </div>
          <div>
            <p class="text-sm font-medium text-gray-900">1 free action left today</p>
            <p class="text-xs text-gray-600">Upgrade for 300/day and faster processing</p>
          </div>
        </div>
        <div class="flex items-center gap-2">
          <button class="text-sm bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors buy-credits-btn">
            Buy Credits
          </button>
          <button onclick="(function(){document.getElementById('prelimit-progress').classList.add('hidden');sessionStorage.setItem('prelimit-dismissed','true');})();" class="text-gray-400 hover:text-gray-600 p-1" aria-label="Dismiss">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Include Upgrade Modal -->
  <div id="upgrade-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="upgrade-title" aria-describedby="upgrade-description">
    <div class="flex items-center justify-center min-h-screen p-4">
      <div class="bg-white rounded-2xl max-w-lg w-full">
        <div class="flex justify-between items-center p-6 border-b">
          <h3 id="upgrade-title" class="text-xl font-bold text-gray-900">Daily Limit Reached</h3>
          <button onclick="window.webspindFreemium?.hideUpgradeModal()" class="text-gray-400 hover:text-gray-600 text-2xl" aria-label="Close upgrade modal">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="p-6">
          <p id="upgrade-description" class="text-gray-600 mb-4">You've reached today's 3 free actions. Get Pro for 300/day, batch tools, OCR/redaction, faster processing, and no ads.</p>

          <!-- Social Proof -->
          <div class="flex items-center gap-3 text-xs text-gray-500 mb-6">
            <div class="flex items-center gap-1 text-yellow-500" aria-label="Average rating 4.8 out of 5">
              <span>★</span><span>★</span><span>★</span><span>★</span><span class="text-gray-300">★</span>
              <span class="ml-1 text-gray-600">4.8/5</span>
            </div>
            <span>•</span>
            <span>Trusted by 50,000+ users</span>
          </div>
          
          <div class="space-y-4 mb-6">
            <div class="flex items-center gap-3">
              <span class="text-green-500 text-xl">✓</span>
              <span class="text-sm text-gray-700">300 actions per day</span>
            </div>
            <div class="flex items-center gap-3">
              <span class="text-green-500 text-xl">✓</span>
              <span class="text-sm text-gray-700">Batch processing</span>
            </div>
            <div class="flex items-center gap-3">
              <span class="text-green-500 text-xl">✓</span>
              <span class="text-sm text-gray-700">OCR & redaction tools</span>
            </div>
            <div class="flex items-center gap-3">
              <span class="text-green-500 text-xl">✓</span>
              <span class="text-sm text-gray-700">Faster processing</span>
            </div>
            <div class="flex items-center gap-3">
              <span class="text-green-500 text-xl">✓</span>
              <span class="text-sm text-gray-700">No ads</span>
            </div>
          </div>
          
          <div class="space-y-3">
            <button onclick="window.location.href='/pricing.html'" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors">
              Upgrade to Pro — €6.99/mo
            </button>
            <button onclick="openLicenseModal()" class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-3 px-4 rounded-lg transition-colors">
              Activate License
            </button>
            <button onclick="window.webspindFreemium?.hideUpgradeModal()" class="w-full text-gray-500 hover:text-gray-700 py-2 transition-colors">
              Keep exploring
            </button>

            <!-- Payment Badges -->
            <div class="flex items-center justify-center gap-3 text-gray-400 pt-2">
              <span class="text-xs">Powered by</span>
              <span class="inline-flex items-center gap-1 text-xs text-gray-700 bg-gray-50 border border-gray-200 px-2 py-1 rounded">🔒 Stripe</span>
              <span class="inline-flex items-center gap-1 text-xs text-gray-500 bg-gray-50 border border-gray-200 px-2 py-1 rounded">💳 Visa</span>
              <span class="inline-flex items-center gap-1 text-xs text-gray-500 bg-gray-50 border border-gray-200 px-2 py-1 rounded">💳 Mastercard</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Buy Credits Modal -->
  <div id="buy-credits-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-2xl p-8 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
      <div class="text-center mb-8">
        <div class="text-6xl mb-4">💳</div>
        <h3 class="text-3xl font-bold mb-4 text-gray-800">Buy Credits</h3>
        <p class="text-gray-600 mb-6">
          Choose a credit package that works for you. Credits never expire and can be used for any tool.
        </p>

        <!-- Social Proof -->
        <div class="flex items-center gap-3 text-xs text-gray-500 justify-center">
          <div class="flex items-center gap-1 text-yellow-500" aria-label="Average rating 4.8 out of 5">
            <span>★</span><span>★</span><span>★</span><span>★</span><span class="text-gray-300">★</span>
            <span class="ml-1 text-gray-600">4.8/5</span>
          </div>
          <span>•</span>
          <span>Trusted by 50,000+ users</span>
        </div>
      </div>

      <!-- Credit Packages -->
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <!-- Starter Pack -->
        <div class="credit-package border-2 border-gray-200 rounded-xl p-6 hover:border-blue-400 transition-all cursor-pointer" data-package="starter">
          <div class="text-center">
            <div class="text-2xl font-bold text-gray-800 mb-2">10 Credits</div>
            <div class="text-3xl font-bold text-blue-600 mb-2">$2.99</div>
            <div class="text-sm text-gray-500 mb-4">$0.30 per credit</div>
            <div class="text-xs text-gray-600">Perfect for trying out tools</div>
          </div>
        </div>

        <!-- Popular Pack -->
        <div class="credit-package border-2 border-blue-500 rounded-xl p-6 hover:border-blue-600 transition-all cursor-pointer relative" data-package="popular">
          <div class="absolute -top-3 left-1/2 transform -translate-x-1/2">
            <span class="bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-medium">Most Popular</span>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-gray-800 mb-2">50 Credits</div>
            <div class="text-3xl font-bold text-blue-600 mb-2">$9.99</div>
            <div class="text-sm text-gray-500 mb-4">$0.20 per credit</div>
            <div class="text-xs text-gray-600">Best value for regular users</div>
          </div>
        </div>

        <!-- Pro Pack -->
        <div class="credit-package border-2 border-gray-200 rounded-xl p-6 hover:border-blue-400 transition-all cursor-pointer" data-package="pro">
          <div class="text-center">
            <div class="text-2xl font-bold text-gray-800 mb-2">100 Credits</div>
            <div class="text-3xl font-bold text-blue-600 mb-2">$16.99</div>
            <div class="text-sm text-gray-500 mb-4">$0.17 per credit</div>
            <div class="text-xs text-gray-600">Great for power users</div>
          </div>
        </div>

        <!-- Enterprise Pack -->
        <div class="credit-package border-2 border-gray-200 rounded-xl p-6 hover:border-blue-400 transition-all cursor-pointer" data-package="enterprise">
          <div class="text-center">
            <div class="text-2xl font-bold text-gray-800 mb-2">250 Credits</div>
            <div class="text-3xl font-bold text-blue-600 mb-2">$34.99</div>
            <div class="text-sm text-gray-500 mb-4">$0.14 per credit</div>
            <div class="text-xs text-gray-600">Best for teams & businesses</div>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <button id="purchase-credits-btn" class="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-8 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 font-medium" disabled>
          Select a Package
        </button>
        <button class="bg-gray-200 text-gray-700 py-3 px-8 rounded-lg hover:bg-gray-300 transition-all duration-200" onclick="window.webspindCredits.hideBuyCreditsModal()">
          Maybe Later
        </button>
      </div>

      <!-- Security Notice & Payment Badges -->
      <div class="text-center mt-6 space-y-2">
        <p class="text-xs text-gray-500 flex items-center justify-center gap-2">
          <span>🔒 Secure checkout by Stripe</span>
          <span>•</span>
          <span>Credits never expire</span>
          <span>•</span>
          <span>Cancel anytime</span>
        </p>
        <div class="flex items-center justify-center gap-3 text-gray-400">
          <span class="inline-flex items-center gap-1 text-xs text-gray-700 bg-gray-50 border border-gray-200 px-2 py-1 rounded">🔒 Stripe</span>
          <span class="inline-flex items-center gap-1 text-xs text-gray-500 bg-gray-50 border border-gray-200 px-2 py-1 rounded">💳 Visa</span>
          <span class="inline-flex items-center gap-1 text-xs text-gray-500 bg-gray-50 border border-gray-200 px-2 py-1 rounded">💳 Mastercard</span>
          <span class="inline-flex items-center gap-1 text-xs text-gray-500 bg-gray-50 border border-gray-200 px-2 py-1 rounded">💳 Amex</span>
        </div>
      </div>
    </div>
  </div>

  <script>
  // Credit package selection
  document.addEventListener('DOMContentLoaded', () => {
    const packages = document.querySelectorAll('.credit-package');
    const purchaseBtn = document.getElementById('purchase-credits-btn');
    let selectedPackage = null;

    packages.forEach(pkg => {
      pkg.addEventListener('click', () => {
        // Remove selection from all packages
        packages.forEach(p => p.classList.remove('border-blue-500', 'bg-blue-50'));
        
        // Add selection to clicked package
        pkg.classList.add('border-blue-500', 'bg-blue-50');
        
        // Update purchase button
        selectedPackage = pkg.dataset.package;
        purchaseBtn.disabled = false;
        purchaseBtn.textContent = `Buy ${pkg.querySelector('.text-2xl').textContent}`;
      });
    });

    // Purchase button
    purchaseBtn.addEventListener('click', () => {
      if (selectedPackage && window.webspindCredits) {
        window.webspindCredits.createCheckout(selectedPackage);
      }
    });
  });
  </script>
  <!-- License Activation Modal -->
  <div id="license-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
    <div class="flex items-center justify-center min-h-screen p-4">
      <div class="bg-white rounded-2xl max-w-md w-full">
        <div class="flex justify-between items-center p-6 border-b">
          <h3 class="text-xl font-bold text-gray-900">Activate License</h3>
          <button onclick="closeLicenseModal()" class="text-gray-400 hover:text-gray-600 text-2xl">
            ×
          </button>
        </div>
        <div class="p-6">
          <p class="text-gray-600 mb-4">Enter your license key to activate Pro features:</p>
          <input type="text" id="license-key-input" placeholder="Enter license key..." 
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4">
          <button onclick="activateLicense()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors">
            Activate License
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Hide skeleton loader when page is fully loaded
    function hideSkeletonLoader() {
      const skeleton = document.getElementById('skeleton-loader');
      if (skeleton) {
        skeleton.style.opacity = '0';
        skeleton.style.transition = 'opacity 0.5s ease-out';
        setTimeout(() => {
          skeleton.style.display = 'none';
        }, 500);
      }
    }

    // Performance monitoring
    function logPerformanceMetrics() {
      if ('performance' in window) {
        window.addEventListener('load', () => {
          setTimeout(() => {
            const perfData = performance.getEntriesByType('navigation')[0];
            if (perfData) {
              console.log('Performance Metrics:', {
                domContentLoaded: Math.round(perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart),
                loadComplete: Math.round(perfData.loadEventEnd - perfData.loadEventStart),
                totalTime: Math.round(perfData.loadEventEnd - perfData.fetchStart)
              });
            }
          }, 0);
        });
      }
    }

    // Initialize performance monitoring
    logPerformanceMetrics();

    // Service Worker registration for better performance
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then((registration) => {
            console.log('SW registered: ', registration);
          })
          .catch((registrationError) => {
            console.log('SW registration failed: ', registrationError);
          });
      });
    }

    // Show skeleton loader immediately
    document.addEventListener('DOMContentLoaded', function() {
      // Hide skeleton after a minimum time to prevent flash
      setTimeout(hideSkeletonLoader, 800);
    });

    // Fallback: hide skeleton when window loads
    window.addEventListener('load', function() {
      setTimeout(hideSkeletonLoader, 100);
    });

    // Prioritize tools: move tools block above the intro/hero for faster access
    document.addEventListener('DOMContentLoaded', function() {
      try {
        const section = document.querySelector('#main-content > section');
        const toolsBlock = section && section.querySelector('#tools');
        if (section && toolsBlock && section.firstElementChild !== toolsBlock) {
          section.insertBefore(toolsBlock, section.firstElementChild);
        }
      } catch (e) {
        console.warn('Reordering tools block failed:', e);
      }
    });

    // Performance-optimized Intersection Observer for animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          // Stop observing once animated
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);

    // Observe all fade-in and slide-up elements with performance optimization
    document.querySelectorAll('.fade-in, .slide-up').forEach(el => {
      observer.observe(el);
    });

    // Lazy load images when they come into view
    const imageObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const img = entry.target;
          if (img.dataset.src) {
            img.src = img.dataset.src;
            img.removeAttribute('data-src');
            img.classList.remove('lazy');
            imageObserver.unobserve(img);
          }
        }
      });
    }, {
      rootMargin: '50px 0px',
      threshold: 0.01
    });

    // Observe all lazy images
    document.querySelectorAll('img[data-src]').forEach(img => {
      imageObserver.observe(img);
    });

    // Lazy load iframes
    const iframeObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const iframe = entry.target;
          if (iframe.dataset.src) {
            iframe.src = iframe.dataset.src;
            iframe.removeAttribute('data-src');
            iframeObserver.unobserve(iframe);
          }
        }
      });
    }, {
      rootMargin: '100px 0px',
      threshold: 0.01
    });

    document.querySelectorAll('iframe[data-src]').forEach(iframe => {
      iframeObserver.observe(iframe);
    });

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Loading overlay functions with better UX
    function showLoading(message = 'Processing...', description = 'Please wait while we handle your request') {
      const overlay = document.getElementById('loading-overlay');
      const title = overlay.querySelector('#loading-title');
      const desc = overlay.querySelector('#loading-description');
      
      if (title) title.textContent = message;
      if (desc) desc.textContent = description;
      
      overlay.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function hideLoading() {
      const overlay = document.getElementById('loading-overlay');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    }

    // Error handling with user-friendly messages
    function showError(message, details = null) {
      const errorModal = document.createElement('div');
      errorModal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4';
      errorModal.innerHTML = `
        <div class="bg-white rounded-2xl max-w-md w-full p-6" role="dialog" aria-labelledby="error-title" aria-describedby="error-message">
          <div class="flex items-center mb-4">
            <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4">
              <span class="text-red-600 text-2xl" aria-hidden="true">⚠️</span>
            </div>
            <h3 id="error-title" class="text-xl font-bold text-gray-900">Something went wrong</h3>
          </div>
          <p id="error-message" class="text-gray-600 mb-6">${sanitizeInput(message)}</p>
          ${details ? `<details class="mb-6"><summary class="cursor-pointer text-sm text-gray-500">Technical details</summary><pre class="mt-2 text-xs text-gray-400 overflow-auto">${sanitizeInput(details)}</pre></details>` : ''}
          <div class="flex gap-3">
            <button onclick="this.closest('.fixed').remove()" class="flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-3 px-4 rounded-lg transition-colors" aria-label="Close error dialog">
              Close
            </button>
            <button onclick="window.location.reload()" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors" aria-label="Reload page">
              Reload Page
            </button>
          </div>
        </div>
      `;
      
      document.body.appendChild(errorModal);
      
      // Focus management for accessibility
      const closeBtn = errorModal.querySelector('button');
      if (closeBtn) closeBtn.focus();
      
      // Auto-remove after 10 seconds
      setTimeout(() => {
        if (errorModal.parentNode) {
          errorModal.remove();
        }
      }, 10000);
    }

    // Success notification
    function showSuccess(message, duration = 3000) {
      const notification = document.createElement('div');
      notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300';
      notification.textContent = sanitizeInput(message);
      
      document.body.appendChild(notification);
      
      // Animate in
      setTimeout(() => {
        notification.classList.remove('translate-x-full');
      }, 100);
      
      // Auto-remove
      setTimeout(() => {
        notification.classList.add('translate-x-full');
        setTimeout(() => {
          if (notification.parentNode) {
            notification.remove();
          }
        }, 300);
      }, duration);
    }

    // Input sanitization and validation
    function sanitizeInput(input) {
      if (typeof input !== 'string') return '';
      
      // Remove potentially dangerous characters
      return input
        .replace(/[<>]/g, '') // Remove < and >
        .replace(/javascript:/gi, '') // Remove javascript: protocol
        .replace(/on\w+=/gi, '') // Remove event handlers
        .trim()
        .substring(0, 1000); // Limit length
    }

    function validateEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email) && email.length <= 254;
    }

    function validateLicenseKey(key) {
      // Basic license key validation (alphanumeric, 20-50 characters)
      const keyRegex = /^[A-Za-z0-9]{20,50}$/;
      return keyRegex.test(key);
    }

    function sanitizeFilename(filename) {
      // Remove dangerous characters and limit length
      return filename
        .replace(/[<>:"/\\|?*]/g, '') // Remove invalid filename characters
        .replace(/\.\./g, '') // Remove path traversal attempts
        .trim()
        .substring(0, 255); // Limit length
    }

    // Add loading to tool links with error handling
    document.querySelectorAll('a[href*="/tools/"]').forEach(link => {
      link.addEventListener('click', function(e) {
        const toolName = this.querySelector('h2')?.textContent || 'tool';
        showLoading(`Loading ${toolName}...`, 'Preparing the tool for you');
        
        // Add error handling for failed navigation
        const originalHref = this.href;
        
        // Simulate loading time and handle potential errors
        setTimeout(() => {
          // In a real implementation, you'd check if the page loaded successfully
          // For now, we'll just hide the loading after a reasonable time
          hideLoading();
        }, 1500);
        
        // Add error handling for network issues
        window.addEventListener('error', function handleError(e) {
          if (e.message.includes('Failed to fetch') || e.message.includes('NetworkError')) {
            showError(
              'Unable to load the tool. Please check your internet connection and try again.',
              e.message
            );
            hideLoading();
            window.removeEventListener('error', handleError);
          }
        });
      });
    });

    // Add some interactive effects
    document.querySelectorAll('.card').forEach(card => {
      card.addEventListener('mouseenter', function() {
        this.style.transform = 'translateY(-8px) scale(1.02)';
      });
      
      card.addEventListener('mouseleave', function() {
        this.style.transform = 'translateY(0) scale(1)';
      });
    });

    // Add floating animation to stats cards
    document.querySelectorAll('.stats-card').forEach((card, index) => {
      card.style.animationDelay = `${index * 0.2}s`;
    });

    // Add staggered animation to tool cards
    document.querySelectorAll('#tools .card').forEach((card, index) => {
      card.style.animationDelay = `${index * 0.1}s`;
    });

    // Add random wiggle animation to some elements
    document.querySelectorAll('.floating-icon').forEach((icon, index) => {
      if (index % 3 === 0) {
        icon.style.animation = 'wiggle 3s ease-in-out infinite';
        icon.style.animationDelay = `${index * 0.5}s`;
      }
    });

    // Mobile menu functionality
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    
    mobileMenuBtn.addEventListener('click', () => {
      const isHidden = mobileMenu.classList.contains('hidden');
      mobileMenu.classList.toggle('hidden');
      mobileMenuBtn.setAttribute('aria-expanded', !isHidden);
      
      // Focus management
      if (!isHidden) {
        const firstMenuItem = mobileMenu.querySelector('a, button');
        if (firstMenuItem) firstMenuItem.focus();
      }

      // Toggle hamburger/close icons
      const iconHamburger = document.getElementById('icon-hamburger');
      const iconClose = document.getElementById('icon-close');
      if (iconHamburger && iconClose) {
        iconHamburger.classList.toggle('hidden');
        iconClose.classList.toggle('hidden');
      }
    });

    // Close mobile menu when clicking outside
    document.addEventListener('click', (e) => {
      if (!mobileMenuBtn.contains(e.target) && !mobileMenu.contains(e.target)) {
        mobileMenu.classList.add('hidden');
        mobileMenuBtn.setAttribute('aria-expanded', 'false');
        const iconHamburger = document.getElementById('icon-hamburger');
        const iconClose = document.getElementById('icon-close');
        if (iconHamburger && iconClose) {
          iconHamburger.classList.remove('hidden');
          iconClose.classList.add('hidden');
        }
      }
    });

    // Keyboard navigation for mobile menu
    mobileMenuBtn.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        mobileMenuBtn.click();
      }
    });

    // Close mobile menu with Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !mobileMenu.classList.contains('hidden')) {
        mobileMenu.classList.add('hidden');
        mobileMenuBtn.setAttribute('aria-expanded', 'false');
        mobileMenuBtn.focus();
        const iconHamburger = document.getElementById('icon-hamburger');
        const iconClose = document.getElementById('icon-close');
        if (iconHamburger && iconClose) {
          iconHamburger.classList.remove('hidden');
          iconClose.classList.add('hidden');
        }
      }
    });

    // Close mobile menu when clicking an item
    mobileMenu.addEventListener('click', (e) => {
      const target = e.target.closest('a, button');
      if (target) {
        mobileMenu.classList.add('hidden');
        mobileMenuBtn.setAttribute('aria-expanded', 'false');
        const iconHamburger = document.getElementById('icon-hamburger');
        const iconClose = document.getElementById('icon-close');
        if (iconHamburger && iconClose) {
          iconHamburger.classList.remove('hidden');
          iconClose.classList.add('hidden');
        }
      }
    });

    // Reset mobile menu on resize to desktop
    window.addEventListener('resize', () => {
      if (window.innerWidth >= 768) {
        mobileMenu.classList.add('hidden');
        mobileMenuBtn.setAttribute('aria-expanded', 'false');
        const iconHamburger = document.getElementById('icon-hamburger');
        const iconClose = document.getElementById('icon-close');
        if (iconHamburger && iconClose) {
          iconHamburger.classList.remove('hidden');
          iconClose.classList.add('hidden');
        }
      }
    });

    // Enhanced tool search and filtering functionality
    const toolSearch = document.getElementById('tool-search');
    const mobileSearch = document.getElementById('mobile-search');
    const categoryBtns = document.querySelectorAll('.category-btn');
    const filterTags = document.querySelectorAll('.filter-tag');
    const toolCards = document.querySelectorAll('.tool-card');
    const searchAutocomplete = document.getElementById('search-autocomplete');
    
    let currentCategory = 'all';
    let currentSearch = '';
    let currentFilters = [];
    let selectedAutocompleteIndex = -1;
    
    // Tool data for autocomplete
    const toolData = [
      { name: 'PDF Merge', keywords: ['pdf', 'merge', 'combine', 'documents'], category: 'pdf', popular: true },
      { name: 'PDF Split', keywords: ['pdf', 'split', 'extract', 'pages'], category: 'pdf', popular: true },
      { name: 'PDF Pages', keywords: ['pdf', 'pages', 'reorder', 'rotate'], category: 'pdf' },
      { name: 'PDF OCR', keywords: ['pdf', 'ocr', 'readable', 'copyable', 'text'], category: 'pdf', pro: true },
      { name: 'Text Toolkit', keywords: ['text', 'processing', 'word', 'count'], category: 'text' },
      { name: 'Image Converter', keywords: ['image', 'converter', 'jpg', 'png', 'webp'], category: 'image', popular: true },
      { name: 'Image Resizer', keywords: ['image', 'resizer', 'resize', 'dimensions'], category: 'image' },
      { name: 'Background Remover', keywords: ['background', 'remover', 'transparent', 'ai'], category: 'image', pro: true, new: true },
      { name: 'QR Generator', keywords: ['qr', 'generator', 'code', 'url'], category: 'utility', popular: true },
      { name: 'AI Detector', keywords: ['ai', 'detector', 'content', 'analysis'], category: 'utility', new: true },
      { name: 'Password Generator', keywords: ['password', 'generator', 'secure', 'random'], category: 'utility' }
    ];
    
    // Search functionality with autocomplete
    function updateSearch(value) {
      currentSearch = value.toLowerCase();
      filterTools();
      showAutocomplete(value);
    }

    function showAutocomplete(query) {
      if (!searchAutocomplete) return;
      if (query.length < 2) {
        searchAutocomplete.classList.add('hidden');
        return;
      }
      
      const matches = toolData.filter(tool => 
        tool.name.toLowerCase().includes(query) || 
        tool.keywords.some(keyword => keyword.includes(query))
      ).slice(0, 5);
      
      if (matches.length === 0) {
        searchAutocomplete.classList.add('hidden');
        return;
      }
      
      searchAutocomplete.innerHTML = matches.map((tool, index) => `
        <div class="autocomplete-item" data-index="${index}" data-tool="${tool.name}" role="option">
          <div class="font-medium">${tool.name}</div>
          <div class="text-xs text-gray-500">${tool.keywords.slice(0, 3).join(', ')}</div>
        </div>
      `).join('');
      
      searchAutocomplete.classList.remove('hidden');
      selectedAutocompleteIndex = -1;
    }

    function hideAutocomplete() {
      if (searchAutocomplete) {
        searchAutocomplete.classList.add('hidden');
      }
      selectedAutocompleteIndex = -1;
    }

    // Autocomplete event listeners
    if (toolSearch) {
      toolSearch.addEventListener('input', (e) => {
        updateSearch(e.target.value);
      });

      toolSearch.addEventListener('keydown', (e) => {
        const items = searchAutocomplete.querySelectorAll('.autocomplete-item');
        
        switch(e.key) {
          case 'ArrowDown':
            e.preventDefault();
            selectedAutocompleteIndex = Math.min(selectedAutocompleteIndex + 1, items.length - 1);
            updateAutocompleteSelection();
            break;
          case 'ArrowUp':
            e.preventDefault();
            selectedAutocompleteIndex = Math.max(selectedAutocompleteIndex - 1, -1);
            updateAutocompleteSelection();
            break;
          case 'Enter':
            e.preventDefault();
            if (selectedAutocompleteIndex >= 0 && items[selectedAutocompleteIndex]) {
              const toolName = items[selectedAutocompleteIndex].dataset.tool;
              toolSearch.value = toolName;
              hideAutocomplete();
              filterTools();
            }
            break;
          case 'Escape':
            hideAutocomplete();
            break;
        }
      });

      toolSearch.addEventListener('blur', () => {
        setTimeout(hideAutocomplete, 200); // Delay to allow click on autocomplete item
      });
    }

    function updateAutocompleteSelection() {
      const items = searchAutocomplete.querySelectorAll('.autocomplete-item');
      items.forEach((item, index) => {
        item.classList.toggle('selected', index === selectedAutocompleteIndex);
      });
    }

    // Autocomplete item click handling
    if (searchAutocomplete) searchAutocomplete.addEventListener('click', (e) => {
      const item = e.target.closest('.autocomplete-item');
      if (item) {
        const toolName = item.dataset.tool;
        toolSearch.value = toolName;
        hideAutocomplete();
        filterTools();
      }
    });

    if (mobileSearch) {
      mobileSearch.addEventListener('input', (e) => {
        updateSearch(e.target.value);
      });
    }
    
    // Category filtering
    categoryBtns.forEach((btn, index) => {
      btn.addEventListener('click', () => {
        categoryBtns.forEach(b => {
          b.classList.remove('active');
          b.setAttribute('aria-selected', 'false');
        });
        btn.classList.add('active');
        btn.setAttribute('aria-selected', 'true');
        currentCategory = btn.dataset.category;
        filterTools();
      });

      // Keyboard navigation for tabs
      btn.addEventListener('keydown', (e) => {
        let targetIndex = index;
        
        switch(e.key) {
          case 'ArrowLeft':
            e.preventDefault();
            targetIndex = index > 0 ? index - 1 : categoryBtns.length - 1;
            break;
          case 'ArrowRight':
            e.preventDefault();
            targetIndex = index < categoryBtns.length - 1 ? index + 1 : 0;
            break;
          case 'Home':
            e.preventDefault();
            targetIndex = 0;
            break;
          case 'End':
            e.preventDefault();
            targetIndex = categoryBtns.length - 1;
            break;
          default:
            return;
        }
        
        categoryBtns[targetIndex].focus();
        categoryBtns[targetIndex].click();
      });
    });
    
    // Filter tag functionality
    filterTags.forEach(tag => {
      tag.addEventListener('click', () => {
        const filter = tag.dataset.filter;
        tag.classList.toggle('active');
        
        if (tag.classList.contains('active')) {
          if (!currentFilters.includes(filter)) {
            currentFilters.push(filter);
          }
        } else {
          currentFilters = currentFilters.filter(f => f !== filter);
        }
        
        filterTools();
      });
    });

    function filterTools() {
      toolCards.forEach(card => {
        const category = card.dataset.category;
        const keywords = card.dataset.keywords.toLowerCase();
        const title = card.querySelector('h2').textContent.toLowerCase();
        const description = card.querySelector('p').textContent.toLowerCase();
        
        // Check category match
        const matchesCategory = currentCategory === 'all' || category === currentCategory;
        
        // Check search match
        const matchesSearch = currentSearch === '' || 
          keywords.includes(currentSearch) || 
          title.includes(currentSearch) || 
          description.includes(currentSearch);
        
        // Check filter matches
        let matchesFilters = true;
        if (currentFilters.length > 0) {
          matchesFilters = currentFilters.some(filter => {
            switch(filter) {
              case 'popular':
                return card.dataset.popular === 'true' || title.includes('merge') || title.includes('converter') || title.includes('qr');
              case 'new':
                return card.dataset.new === 'true' || title.includes('ai detector') || title.includes('background');
              case 'pro':
                return card.querySelector('.feature-badge')?.textContent.includes('PRO');
              case 'free':
                return !card.querySelector('.feature-badge')?.textContent.includes('PRO');
              default:
                return true;
            }
          });
        }
        
        if (matchesCategory && matchesSearch && matchesFilters) {
          card.classList.remove('hidden');
        } else {
          card.classList.add('hidden');
        }
      });
    }
    
    // Privacy-friendly analytics (no personal data collected)
    function trackEvent(eventName, data = {}) {
      // Only track if user hasn't opted out
      if (localStorage.getItem('analytics-opt-out') === 'true') return;
      
      // Enhanced event tracking with conversion metrics
      const eventData = {
        event: eventName,
        data: data,
        timestamp: Date.now(),
        sessionId: getSessionId(),
        page: window.location.pathname,
        referrer: document.referrer,
        userAgent: navigator.userAgent,
        screen: `${screen.width}x${screen.height}`,
        language: navigator.language
      };
      
      // Store events locally for batch sending
      let events = JSON.parse(localStorage.getItem('webspind-analytics') || '[]');
      events.push(eventData);
      
      // Keep only last 100 events to prevent storage bloat
      if (events.length > 100) {
        events = events.slice(-100);
      }
      
      localStorage.setItem('webspind-analytics', JSON.stringify(events));
      
      // Send to analytics endpoint (replace with your preferred service)
      sendAnalytics(eventData);
      
      console.log('Event tracked:', eventName, data);
    }

    // Generate session ID
    function getSessionId() {
      let sessionId = localStorage.getItem('webspind-session-id');
      if (!sessionId) {
        sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        localStorage.setItem('webspind-session-id', sessionId);
      }
      return sessionId;
    }

    // Send analytics data (privacy-friendly)
    function sendAnalytics(eventData) {
      // Example: Send to your own analytics endpoint
      // In production, replace with your preferred analytics service
      fetch('/api/analytics', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(eventData)
      }).catch(() => {
        // Silent fail - don't interrupt user experience
      });
    }

    // Track page views
    trackEvent('page_view', {
      page: window.location.pathname,
      title: document.title
    });

    // Track user engagement metrics
    let engagementStartTime = Date.now();
    let scrollDepth = 0;
    let maxScrollDepth = 0;

    // Track scroll depth and apply nav shadow + shrink on desktop
    window.addEventListener('scroll', () => {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
      scrollDepth = Math.round((scrollTop / scrollHeight) * 100);
      maxScrollDepth = Math.max(maxScrollDepth, scrollDepth);

      const nav = document.getElementById('site-nav');
      const navInner = document.getElementById('nav-inner');
      const bodyEl = document.body;
      const applyDesktopCondense = window.innerWidth >= 1024;
      if (nav) {
        if (scrollTop > 4) {
          nav.classList.add('nav-shadow');
        } else {
          nav.classList.remove('nav-shadow');
        }
      }
      if (navInner) {
        if (scrollTop > 24 && applyDesktopCondense) {
          navInner.classList.add('nav-condensed');
          bodyEl.classList.add('brand-condensed');
        } else {
          navInner.classList.remove('nav-condensed');
          bodyEl.classList.remove('brand-condensed');
        }
      }

      // Hero condense on desktop
      if (applyDesktopCondense) {
        if (scrollTop > 80) {
          bodyEl.classList.add('hero-condensed');
        } else {
          bodyEl.classList.remove('hero-condensed');
        }
      } else {
        bodyEl.classList.remove('hero-condensed');
      }
    });

    // Track time on page
    window.addEventListener('beforeunload', () => {
      const timeOnPage = Date.now() - engagementStartTime;
      trackEvent('page_engagement', {
        timeOnPage: timeOnPage,
        maxScrollDepth: maxScrollDepth,
        page: window.location.pathname
      });
    });
    
    // Track tool usage
    document.querySelectorAll('.tool-card').forEach(card => {
      card.addEventListener('click', () => {
        const toolName = card.querySelector('h2').textContent;
        trackEvent('tool_clicked', { tool: toolName });
      });
    });
    
    // Track search usage
    toolSearch.addEventListener('input', (e) => {
      if (e.target.value.length > 2) {
        trackEvent('search_performed', { query: e.target.value });
      }
    });
    
    // Track category filtering
    categoryBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        trackEvent('category_filtered', { category: btn.dataset.category });
      });
    });
    
    // Track support button clicks
    document.querySelectorAll('a[href*="ko-fi"]').forEach(btn => {
      btn.addEventListener('click', () => {
        trackEvent('support_clicked', { source: btn.textContent.trim() });
      });
    });

    // Track conversion events
    function trackConversion(eventName, value = 0, currency = 'USD') {
      trackEvent('conversion', {
        event: eventName,
        value: value,
        currency: currency,
        timestamp: Date.now()
      });
    }

    // Track premium waitlist conversions
    function trackPremiumConversion() {
      trackConversion('premium_waitlist_signup', 0, 'USD');
    }

    // Track donation conversions (when Ko-fi widget is used)
    function trackDonationConversion(amount) {
      trackConversion('donation', amount, 'USD');
    }

    // Enhanced Ko-fi widget tracking
    function openKoFiWidget(amount = null) {
      const modal = document.getElementById('kofi-modal');
      const iframe = document.getElementById('kofiframe');
      
      // Track donation intent
      trackEvent('donation_intent', { amount: amount });
      
      // If amount is specified, modify the iframe src to pre-select that amount
      if (amount) {
        iframe.src = `https://ko-fi.com/webspind/?hidefeed=true&widget=true&embed=true&preview=true&amount=${amount}`;
      } else {
        iframe.src = 'https://ko-fi.com/webspind/?hidefeed=true&widget=true&embed=true&preview=true';
      }
      
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      
      // Focus management
      const closeBtn = modal.querySelector('button[aria-label="Close support modal"]');
      if (closeBtn) closeBtn.focus();
    }

    function closeKoFiWidget() {
      const modal = document.getElementById('kofi-modal');
      modal.classList.add('hidden');
      document.body.style.overflow = 'auto';
      
      // Return focus to the element that opened the modal
      const supportBtn = document.querySelector('button[aria-label="Support Webspind"]');
      if (supportBtn) supportBtn.focus();
    }

    // Close modal when clicking outside
    document.getElementById('kofi-modal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeKoFiWidget();
      }
    });

    // Close modal with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeKoFiWidget();
        closePremiumWaitlist();
      }
    });

    // Premium Waitlist Functions
    function openPremiumWaitlist() {
      const modal = document.getElementById('premium-modal');
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      trackEvent('premium_waitlist_opened');
      
      // Focus management
      const closeBtn = modal.querySelector('button[aria-label="Close premium waitlist modal"]');
      if (closeBtn) closeBtn.focus();
    }

    function closePremiumWaitlist() {
      const modal = document.getElementById('premium-modal');
      modal.classList.add('hidden');
      document.body.style.overflow = 'auto';
      
      // Return focus to the element that opened the modal
      const upgradeBtn = document.querySelector('button[aria-label="Upgrade to Pro plan"]');
      if (upgradeBtn) upgradeBtn.focus();
    }

    // Close premium modal when clicking outside
    document.getElementById('premium-modal').addEventListener('click', function(e) {
      if (e.target === this) {
        closePremiumWaitlist();
      }
    });

    // Premium waitlist form submission with validation
    document.getElementById('premium-waitlist-form').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const emailInput = document.getElementById('premium-email');
      const email = sanitizeInput(emailInput.value);
      const interests = Array.from(document.querySelectorAll('#premium-waitlist-form input[type="checkbox"]:checked'))
        .map(cb => sanitizeInput(cb.value));
      
      // Validate email
      if (!validateEmail(email)) {
        showError('Please enter a valid email address.');
        emailInput.focus();
        return;
      }
      
      // Validate interests (at least one should be selected)
      if (interests.length === 0) {
        showError('Please select at least one area of interest.');
        return;
      }
      
      // Store in localStorage for now (in production, send to your backend)
      const waitlistData = {
        email: email,
        interests: interests,
        timestamp: Date.now(),
        userAgent: navigator.userAgent.substring(0, 100) // Truncated for privacy
      };
      
      try {
        let waitlist = JSON.parse(localStorage.getItem('webspind-premium-waitlist') || '[]');
        waitlist.push(waitlistData);
        localStorage.setItem('webspind-premium-waitlist', JSON.stringify(waitlist));
        
        // Show success message
        showSuccess('Thanks for joining the waitlist! We\'ll notify you when premium features launch.');
        closePremiumWaitlist();
        
        // Track conversion
        trackPremiumConversion();
        trackEvent('premium_waitlist_joined', { 
          email: email.substring(0, 3) + '***', // Partial email for privacy
          interests: interests 
        });
      } catch (error) {
        showError('Failed to save your information. Please try again.');
        console.error('Waitlist save error:', error);
      }
    });

    // Initialize Ko-fi donation widget (subtle) - only if available
    function initializeKoFiWidget() {
      try {
        if (typeof kofiWidgetOverlay !== 'undefined') {
          kofiWidgetOverlay.draw('webspind', {
            'type': 'floating-chat',
            'floating-chat.donateButton.text': 'Support',
            'floating-chat.donateButton.background-color': '#1a1a1a',
            'floating-chat.donateButton.text-color': '#fff',
            'floating-chat.donateButton.position': 'bottom-right'
          });
          console.log('Ko-fi widget initialized successfully');
        } else {
          console.log('Ko-fi widget not available, using fallback support button');
        }
      } catch (error) {
        console.log('Ko-fi widget initialization failed:', error);
      }
    }

    // Ko-fi widget is only shown via explicit user click (no auto-init)

    // Global error handler to catch any unhandled errors
    window.addEventListener('error', function(e) {
      console.error('Global error caught:', e.error);
      // Don't show error to user unless it's critical
      if (e.error && e.error.message && e.error.message.includes('kofiWidgetOverlay')) {
        console.log('Ko-fi widget error handled gracefully');
      }
    });

    // Handle unhandled promise rejections
    window.addEventListener('unhandledrejection', function(e) {
      console.error('Unhandled promise rejection:', e.reason);
      // Prevent the default browser behavior
      e.preventDefault();
    });

    // Service Worker Registration for offline functionality
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('SW registered: ', registration);
            
            // Check for updates
            registration.addEventListener('updatefound', () => {
              const newWorker = registration.installing;
              newWorker.addEventListener('statechange', () => {
                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                  showSuccess('New version available! Refresh to update.', 5000);
                }
              });
            });
          })
          .catch(registrationError => {
            console.log('SW registration failed: ', registrationError);
            showError('Service worker registration failed. Some features may not work offline.');
          });
      });
    }

    // Offline/Online status indicator
    function updateOnlineStatus() {
      const isOnline = navigator.onLine;
      const statusIndicator = document.getElementById('online-status');
      
      if (statusIndicator) {
        statusIndicator.textContent = isOnline ? 'Online' : 'Offline';
        statusIndicator.className = isOnline 
          ? 'fixed top-4 left-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm z-50'
          : 'fixed top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm z-50';
      }
      
      if (!isOnline) {
        showSuccess('You\'re offline, but you can still use cached tools!', 3000);
      }
    }

    // Add online status indicator to the page
    const statusIndicator = document.createElement('div');
    statusIndicator.id = 'online-status';
    statusIndicator.className = 'fixed top-4 left-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm z-50 opacity-0 transition-opacity duration-300';
    statusIndicator.textContent = 'Online';
    document.body.appendChild(statusIndicator);

    // Show status indicator briefly on load
    setTimeout(() => {
      statusIndicator.style.opacity = '1';
      setTimeout(() => {
        statusIndicator.style.opacity = '0';
      }, 2000);
    }, 1000);

    // Listen for online/offline events
    window.addEventListener('online', updateOnlineStatus);
    window.addEventListener('offline', updateOnlineStatus);
    updateOnlineStatus();

    // Performance monitoring and optimization
    if ('performance' in window) {
      window.addEventListener('load', () => {
        setTimeout(() => {
          const perfData = performance.getEntriesByType('navigation')[0];
          const loadTime = perfData.loadEventEnd - perfData.loadEventStart;
          console.log('Page load time:', loadTime, 'ms');
          
          // Track performance metrics
          if (loadTime > 3000) {
            console.warn('Slow page load detected:', loadTime, 'ms');
          }
          
          // Report to analytics if available
          if (typeof trackEvent === 'function') {
            trackEvent('performance_metric', {
              loadTime: loadTime,
              domContentLoaded: perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart,
              firstPaint: performance.getEntriesByType('paint').find(entry => entry.name === 'first-paint')?.startTime || 0
            });
          }
        }, 0);
      });
    }

    // Optimize animations for better performance
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    
    if (prefersReducedMotion) {
      // Disable animations for users who prefer reduced motion
      document.documentElement.style.setProperty('--animation-duration', '0.01ms');
      document.documentElement.style.setProperty('--animation-iteration-count', '1');
    }

    // Live usage statistics simulation
    function updateLiveStats() {
      const pdfCount = document.getElementById('live-pdf-count');
      const qrCount = document.getElementById('live-qr-count');
      const aiCount = document.getElementById('live-ai-count');
      
      if (pdfCount) {
        const currentPdf = parseInt(pdfCount.textContent.replace(',', ''));
        pdfCount.textContent = (currentPdf + Math.floor(Math.random() * 3) + 1).toLocaleString();
      }
      
      if (qrCount) {
        const currentQr = parseInt(qrCount.textContent.replace(',', ''));
        qrCount.textContent = (currentQr + Math.floor(Math.random() * 2) + 1).toLocaleString();
      }
      
      if (aiCount) {
        const currentAi = parseInt(aiCount.textContent.replace(',', ''));
        aiCount.textContent = (currentAi + Math.floor(Math.random() * 2) + 1).toLocaleString();
      }
    }

    // Update stats every 30 seconds
    setInterval(updateLiveStats, 30000);

    // Recently Used Tools functionality
    function getRecentTools() {
      const recent = JSON.parse(localStorage.getItem('webspind-recent-tools') || '[]');
      return recent.slice(0, 5); // Show last 5 tools
    }

    function addToRecentTools(toolName, toolUrl) {
      let recent = JSON.parse(localStorage.getItem('webspind-recent-tools') || '[]');
      recent = recent.filter(tool => tool.url !== toolUrl); // Remove if already exists
      recent.unshift({ name: toolName, url: toolUrl, timestamp: Date.now() });
      recent = recent.slice(0, 10); // Keep only last 10
      localStorage.setItem('webspind-recent-tools', JSON.stringify(recent));
      updateRecentToolsDisplay();
    }

    function updateRecentToolsDisplay() {
      const recentTools = getRecentTools();
      const recentToolsContainer = document.getElementById('recent-tools');
      const recentToolsList = recentToolsContainer.querySelector('.flex');
      
      if (recentTools.length > 0) {
        recentToolsContainer.classList.remove('hidden');
        recentToolsList.innerHTML = recentTools.map(tool => `
          <a href="${tool.url}" class="flex-shrink-0 bg-white border border-gray-200 rounded-lg px-3 py-2 text-sm hover:bg-gray-50 transition-colors">
            <span class="text-gray-600">${tool.name}</span>
          </a>
        `).join('');
      } else {
        recentToolsContainer.classList.add('hidden');
      }
    }

    // Track tool usage
    document.querySelectorAll('.tool-card').forEach(card => {
      card.addEventListener('click', () => {
        const toolName = card.querySelector('h2').textContent;
        const toolUrl = card.href;
        addToRecentTools(toolName, toolUrl);
        trackEvent('tool_clicked', { tool: toolName });
      });
    });

    // Initialize recent tools display
    updateRecentToolsDisplay();

    // Upgrade and modal functions
    function handleUpgradeClick() {
      // Check if user has used all free actions
      if (window.webspindFreemium && window.webspindFreemium.usage.remaining <= 0) {
        // Show upgrade modal if they're out of actions
        window.webspindFreemium.showUpgradeModal('limit_reached');
      } else {
        // Show upgrade modal with different context for users who still have actions
        window.webspindFreemium.showUpgradeModal('upgrade_clicked');
      }
    }

    function openSupport() {
      // Open Ko-fi widget or support modal
      if (typeof openKoFiWidget === 'function') {
        openKoFiWidget();
      } else {
        // Fallback to pricing page
        window.location.href = '/pricing.html';
      }
    }

    function openLicenseModal() {
      document.getElementById('license-modal').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    function closeLicenseModal() {
      document.getElementById('license-modal').classList.add('hidden');
      document.body.style.overflow = 'auto';
    }

    function activateLicense() {
      const licenseKey = document.getElementById('license-key-input').value.trim();
      
      if (!licenseKey) {
        alert('Please enter a license key');
        return;
      }
      
      if (window.webspindFreemium) {
        window.webspindFreemium.activateLicense(licenseKey).then(success => {
          if (success) {
            closeLicenseModal();
            alert('License activated successfully!');
            // Update the UI to reflect Pro status
            updatePlanDisplay();
          } else {
            alert('Invalid license key. Please check and try again.');
          }
        });
      }
    }

    function updatePlanDisplay() {
      if (window.webspindFreemium) {
        const planDisplay = document.getElementById('current-plan-display');
        const resetTimer = document.getElementById('reset-timer');
        
        if (planDisplay) {
          const plan = window.webspindFreemium.plan;
          const usage = window.webspindFreemium.usage;
          planDisplay.textContent = `${plan === 'pro' ? 'Pro' : 'Free'} - ${usage.limit} actions/day`;
        }
        
        if (resetTimer) {
          resetTimer.textContent = `Resets in ${window.webspindFreemium.getTimeUntilReset()}`;
        }
      }
    }

    // Close modals on outside click
    document.getElementById('upgrade-modal').addEventListener('click', function(e) {
      if (e.target === this) {
        window.webspindFreemium?.hideUpgradeModal();
      }
    });

    document.getElementById('license-modal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeLicenseModal();
      }
    });

    // Close modals on escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        window.webspindFreemium?.hideUpgradeModal();
        closeLicenseModal();
      }
    });

    // Update plan display when freemium system loads
    setTimeout(updatePlanDisplay, 1000);

    // Navigation functions
    function scrollToTools() {
      const toolsSection = document.getElementById('tools');
      if (toolsSection) {
        toolsSection.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
        trackEvent('cta_clicked', { source: 'hero_button' });
      }
    }

    // More menu functionality
    const moreMenuBtn = document.getElementById('more-menu-btn');
    const moreMenu = document.getElementById('more-menu');
    
    if (moreMenuBtn && moreMenu) {
      moreMenuBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        const isHidden = moreMenu.classList.contains('hidden');
        // Ensure language menu is closed when opening more menu
        const languageMenuEl = document.getElementById('language-menu');
        const languageBtnEl = document.getElementById('language-btn');
        if (languageMenuEl && languageBtnEl) {
          languageMenuEl.classList.add('hidden');
          languageBtnEl.setAttribute('aria-expanded', 'false');
        }
        moreMenu.classList.toggle('hidden');
        moreMenuBtn.setAttribute('aria-expanded', !isHidden);
      });

      // Close menu when clicking outside
      document.addEventListener('click', (e) => {
        if (!moreMenuBtn.contains(e.target) && !moreMenu.contains(e.target)) {
          moreMenu.classList.add('hidden');
          moreMenuBtn.setAttribute('aria-expanded', 'false');
        }
      });

      // Close menu with Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !moreMenu.classList.contains('hidden')) {
          moreMenu.classList.add('hidden');
          moreMenuBtn.setAttribute('aria-expanded', 'false');
          moreMenuBtn.focus();
        }
      });
    }

    // Language functionality
    const languageBtn = document.getElementById('language-btn');
    const languageMenu = document.getElementById('language-menu');
    
    if (languageBtn && languageMenu) {
      languageBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        const isHidden = languageMenu.classList.contains('hidden');
        // Ensure more menu is closed when opening language menu
        const moreMenuEl = document.getElementById('more-menu');
        const moreMenuBtnEl = document.getElementById('more-menu-btn');
        if (moreMenuEl && moreMenuBtnEl) {
          moreMenuEl.classList.add('hidden');
          moreMenuBtnEl.setAttribute('aria-expanded', 'false');
        }
        languageMenu.classList.toggle('hidden');
        languageBtn.setAttribute('aria-expanded', !isHidden);
      });

      // Close language menu when clicking outside
      document.addEventListener('click', (e) => {
        if (!languageBtn.contains(e.target) && !languageMenu.contains(e.target)) {
          languageMenu.classList.add('hidden');
          languageBtn.setAttribute('aria-expanded', 'false');
        }
      });

      // Close language menu with Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !languageMenu.classList.contains('hidden')) {
          languageMenu.classList.add('hidden');
          languageBtn.setAttribute('aria-expanded', 'false');
          languageBtn.focus();
        }
      });
    }

    // Language translations (basic implementation)
    const translations = {
      en: {
        'hero-title': 'Webspind Professional Tools',
        'hero-subtitle': 'Free professional tools for document processing, image conversion, QR generation, and AI detection.',
        'get-started': 'Get Started',
        'try-tools': 'Try Tools Now →',
        'all-tools': 'All Tools',
        'search-placeholder': 'Search tools...',
        'popular': 'Popular',
        'new': 'New',
        'pro': 'Pro',
        'free': 'Free'
      },
      es: {
        'hero-title': 'Herramientas Profesionales Webspind',
        'hero-subtitle': 'Herramientas profesionales gratuitas para procesamiento de documentos, conversión de imágenes, generación de códigos QR y detección de IA.',
        'get-started': 'Comenzar',
        'try-tools': 'Probar Herramientas →',
        'all-tools': 'Todas las Herramientas',
        'search-placeholder': 'Buscar herramientas...',
        'popular': 'Popular',
        'new': 'Nuevo',
        'pro': 'Pro',
        'free': 'Gratis'
      },
      fr: {
        'hero-title': 'Outils Professionnels Webspind',
        'hero-subtitle': 'Outils professionnels gratuits pour le traitement de documents, la conversion d\'images, la génération de codes QR et la détection d\'IA.',
        'get-started': 'Commencer',
        'try-tools': 'Essayer les Outils →',
        'all-tools': 'Tous les Outils',
        'search-placeholder': 'Rechercher des outils...',
        'popular': 'Populaire',
        'new': 'Nouveau',
        'pro': 'Pro',
        'free': 'Gratuit'
      },
      de: {
        'hero-title': 'Webspind Professionelle Tools',
        'hero-subtitle': 'Kostenlose professionelle Tools für Dokumentenverarbeitung, Bildkonvertierung, QR-Code-Generierung und KI-Erkennung.',
        'get-started': 'Loslegen',
        'try-tools': 'Tools Ausprobieren →',
        'all-tools': 'Alle Tools',
        'search-placeholder': 'Tools suchen...',
        'popular': 'Beliebt',
        'new': 'Neu',
        'pro': 'Pro',
        'free': 'Kostenlos'
      },
      zh: {
        'hero-title': 'Webspind 专业工具',
        'hero-subtitle': '免费的专业工具，用于文档处理、图像转换、二维码生成和AI检测。',
        'get-started': '开始使用',
        'try-tools': '试用工具 →',
        'all-tools': '所有工具',
        'search-placeholder': '搜索工具...',
        'popular': '热门',
        'new': '新',
        'pro': '专业版',
        'free': '免费'
      }
    };

    function changeLanguage(lang) {
      const currentLang = document.getElementById('current-lang');
      if (currentLang) {
        currentLang.textContent = lang.toUpperCase();
      }
      
      // Store language preference
      localStorage.setItem('preferred-language', lang);
      
      // Apply translations
      const langTranslations = translations[lang];
      if (langTranslations) {
        Object.keys(langTranslations).forEach(key => {
          const elements = document.querySelectorAll(`[data-translate="${key}"]`);
          elements.forEach(el => {
            el.textContent = langTranslations[key];
          });
        });
      }
      
      // Close language menu
      if (languageMenu) {
        languageMenu.classList.add('hidden');
        languageBtn.setAttribute('aria-expanded', 'false');
      }
      
      // Update page language attribute
      document.documentElement.lang = lang;
      
      trackEvent('language_changed', { language: lang });
    }

    // Initialize language on page load
    function initializeLanguage() {
      const savedLang = localStorage.getItem('preferred-language') || 'en';
      changeLanguage(savedLang);
    }

    // Initialize language when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeLanguage);
    } else {
      initializeLanguage();
    }

    

    // Improved paywall functions
    function showUsageProgress() {
      const progressBar = document.getElementById('usage-progress');
      if (progressBar) {
        progressBar.classList.remove('hidden');
        // Adjust body padding to account for fixed progress bar
        document.body.style.paddingTop = '60px';
      }
    }

    function hideUsageProgress() {
      const progressBar = document.getElementById('usage-progress');
      if (progressBar) {
        progressBar.classList.add('hidden');
        document.body.style.paddingTop = '0';
        // Store dismissal in localStorage to avoid showing again this session
        sessionStorage.setItem('usage-progress-dismissed', 'true');
      }
    }

    function showUpgradeOptions() {
      hideUsageProgress();
      if (window.webspindFreemium) {
        window.webspindFreemium.showUpgradeModal('limit_reached');
      }
    }

    // Check usage and show pre-limit or limit banners
    function checkUsageLimit() {
      if (!window.webspindFreemium) return;

      const remaining = window.webspindFreemium.usage.remaining;
      const prelimitBar = document.getElementById('prelimit-progress');

      // Out of actions: show main progress/upgrade bar
      if (remaining <= 0) {
        if (!sessionStorage.getItem('usage-progress-dismissed')) {
          showUsageProgress();
        }
        if (prelimitBar) prelimitBar.classList.add('hidden');
        return;
      }

      // One action left: show pre-limit warning if not dismissed
      if (remaining === 1 && prelimitBar) {
        if (!sessionStorage.getItem('prelimit-dismissed')) {
          prelimitBar.classList.remove('hidden');
          document.body.style.paddingTop = '60px';
        }
      } else if (prelimitBar) {
        prelimitBar.classList.add('hidden');
        // Only remove padding if main bar is not visible
        const mainBarVisible = !document.getElementById('usage-progress')?.classList.contains('hidden');
        if (!mainBarVisible) document.body.style.paddingTop = '0';
      }
    }

    // Monitor usage changes
    if (window.webspindFreemium) {
      const originalUpdateUsage = window.webspindFreemium.updateUsage;
      window.webspindFreemium.updateUsage = function() {
        originalUpdateUsage.call(this);
        checkUsageLimit();
      };
    }

  </script>

  <footer class="mt-20 border-t border-gray-200 relative z-10">
    <div class="max-w-7xl mx-auto px-4 md:px-6 py-12 text-center">
      <div class="text-gray-600 text-sm mb-4">
        © 2025 Webspind · Local processing · 
        <a class="text-gray-900 hover:text-gray-700 transition-colors underline" href="/privacy.html">Privacy</a>
      </div>
      <div class="text-gray-500 text-xs">
        Professional tools for modern workflows
      </div>
    </div>
  </footer>
</body>
</html>